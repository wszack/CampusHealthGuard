(function(){"use strict";var e={3870:function(e,t,a){var l=a(6369),r=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},s=[],o={name:"MyApp"},i=o,n=a(3736),d=(0,n.Z)(i,r,s,!1,null,"d0491194",null),c=d.exports,m=a(2631),u=function(){var e=this,t=e._self._c;return t("el-container",[t("el-aside",{attrs:{width:"210px"}},[t("SideMenu")],1),t("el-container",[t("el-header",[t("strong",{staticStyle:{"font-size":"20px"}},[e._v("校园疫情防控后台管理系统")]),t("div",{staticClass:"header-avatar"},[t("el-avatar",{attrs:{size:"medium",src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}),t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[t("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.username)),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"userInfo"}},[e._v(" 个人中心 ")]),t("el-dropdown-item",{attrs:{command:"out"}},[e._v(" 退出 ")])],1)],1),t("el-link",{attrs:{href:"http://localhost:8080/#/login",target:"_blank"}},[e._v("网站")])],1)]),t("el-main",[t("router-view")],1)],1)],1)},p=[],h=(a(7658),function(){var e=this,t=e._self._c;return t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","unique-opened":"","default-active":this.$route.path,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"}},[t("el-menu-item",{attrs:{index:"/index"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-home"}),t("span",[e._v("首页")])])],2),t("el-submenu",{attrs:{index:"1"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-setting"}),t("span",[e._v("系统管理")])]),t("el-menu-item",{attrs:{index:"/articles"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-tools"}),t("span",[e._v("文章管理")])])],2),t("el-menu-item",{attrs:{index:"/articlesManage"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-tools"}),t("span",[e._v("发布文章")])])],2)],2),t("el-submenu",{attrs:{index:"2"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("用户管理")])]),t("el-menu-item",{attrs:{index:"/student"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user-solid"}),t("span",[e._v("学生列表管理")])])],2),t("el-menu-item",{attrs:{index:"/teacher"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user-solid"}),t("span",[e._v("教师列表管理")])])],2),t("el-menu-item",{attrs:{index:"/admin"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-user-solid"}),t("span",[e._v("管理员列表管理")])])],2)],2),t("el-submenu",{attrs:{index:"3"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-document"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("健康管理")])]),t("el-menu-item",{attrs:{index:"/healthStu"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-tickets"}),t("span",[e._v("学生健康管理")])])],2),t("el-menu-item",{attrs:{index:"/healthTea"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-tickets"}),t("span",[e._v("教师健康管理")])])],2),t("el-menu-item",{attrs:{index:"/confirmed"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-document-checked"}),t("span",[e._v("确诊信息管理")])])],2)],2),t("el-submenu",{attrs:{index:"4"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-folder-opened"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("请假管理")])]),t("el-menu-item",{attrs:{index:"/departure"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("离校申请管理")])])],2),t("el-menu-item",{attrs:{index:"/back"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("返校申请管理")])])],2),t("el-menu-item",{attrs:{index:"/leave"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("请假申请管理")])])],2)],2),t("el-submenu",{attrs:{index:"5"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-shopping-cart-full"}),t("span",{attrs:{slot:"title"},slot:"title"},[e._v("防疫物资管理")])]),t("el-menu-item",{attrs:{index:"/materials"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-goods"}),t("span",[e._v("物资库存管理")])])],2),t("el-menu-item",{attrs:{index:"/application"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-custom"}),t("span",[e._v("物资申请管理")])])],2)],2)],1)}),b=[],g={name:"SideMenu"},f=g,v=(0,n.Z)(f,h,b,!1,null,"44c2286c",null),F=v.exports,y={name:"Home",components:{SideMenu:F},data(){return{username:""}},created(){this.username=JSON.parse(window.localStorage.getItem("username"))},methods:{handleCommand(e){if(e)switch(e){case"out":this.out();break;case"userInfo":this.userInfo();break}else this.$message("菜单选项缺少command属性")},out(){this.$router.push("/login")},userInfo(){this.$router.push("/userInfo")}}},x=y,_=(0,n.Z)(x,u,p,!1,null,"0f55b3a4",null),w=_.exports,S=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login clearfix"},[t("el-form",{ref:"loginForm",staticClass:"loginContainer clearfix",attrs:{model:e.loginForm,rules:e.rules,"label-width":"65px"}},[t("h2",{staticClass:"loginTitle"},[e._v("校园疫情防控后台管理系统")]),t("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"验证码",prop:"code"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"点击图片更换验证码"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),t("el-image",{staticClass:"captchaImg",attrs:{src:e.captchaUrl}}),t("a",{staticStyle:{display:"inline-block"},attrs:{href:"javascript:;"},on:{click:e.getImage}},[e._v("换一张")])],1),t("el-form-item",{staticClass:"button"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登录")]),t("el-button",{on:{click:function(t){return e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1)},k=[],C=a(6943);const $=C.Z.create({baseURL:"http://localhost:9090",timeout:5e3});$.interceptors.request.use((e=>(e.headers["Content-Type"]="application/json;charset=utf-8",e)),(e=>Promise.reject(e))),$.interceptors.response.use((e=>{let t=e.data;return e.config.responseType,t}),(e=>(console.log("err"+e),Promise.reject(e))));var z=$,V={name:"Login",data(){return{captchaUrl:"",loginForm:{username:"",password:"",code:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"长度在 4 个字符",trigger:"blur"}]}}},created(){this.getSrc()},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("error submit!"),!1;{let e=this;z.get("/admin/login",{params:e.loginForm}).then((t=>{null!=t.data?(localStorage.setItem("username",JSON.stringify(t.data.username)),localStorage.setItem("token",JSON.stringify(t.data.token)),e.$router.push("/index")):e.$message.error("登录失败，"+t.message)}))}}))},resetForm(e){this.$refs[e].resetFields()},getImage(){this.getSrc()},getSrc(){let e=this;z.get("/user/getImage?time="+Math.random()).then((t=>{e.captchaUrl=t}))}}},q=V,B=(0,n.Z)(q,S,k,!1,null,"035227c9",null),I=B.exports,N=function(){var e=this,t=e._self._c;return t("div",{staticClass:"index"},[t("h1",[e._v("系统信息")]),t("el-descriptions",{attrs:{column:1,border:""}},[t("el-descriptions-item",{attrs:{label:"xxx版本"}},[e._v(" 1.0.1 ")]),t("el-descriptions-item",{attrs:{label:"服务器地址"}},[e._v(" # ")]),t("el-descriptions-item",{attrs:{label:"操作系统"}},[e._v(" Window ")]),t("el-descriptions-item",{attrs:{label:"运行环境"}},[e._v(" SpringBoot+Vue ")]),t("el-descriptions-item",{attrs:{label:"JAVA版本"}},[e._v(" 8 ")]),t("el-descriptions-item",{attrs:{label:"运行方式"}},[e._v(" SpringBoot主启动类 ")])],1)],1)},M=[],E={name:"Index"},D=E,Z=(0,n.Z)(D,N,M,!1,null,"30e398a1",null),H=Z.exports,A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("系统管理")]),t("el-breadcrumb-item",[e._v("文章管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[[t("el-select",{attrs:{clearable:"",placeholder:"请选择文章类型"},on:{change:e.load},model:{value:e.pub_type,callback:function(t){e.pub_type=t},expression:"pub_type"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些文章吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],2),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"title",label:"文章标题"}}),t("el-table-column",{attrs:{prop:"pub_time",label:"发布时间"}}),t("el-table-column",{attrs:{prop:"pub_author",label:"文章作者"}}),t("el-table-column",{attrs:{prop:"pub_content",label:"文章内容"}}),t("el-table-column",{attrs:{prop:"pub_type",label:"文章类型"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"文章信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{prop:"title",label:"文章标题"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写文章标题"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),t("el-form-item",{attrs:{label:"文章作者",prop:"pub_author"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入文章作者"},model:{value:e.addForm.pub_author,callback:function(t){e.$set(e.addForm,"pub_author",t)},expression:"addForm.pub_author"}})],1),t("el-form-item",{attrs:{label:"文章内容",prop:"pub_content"}},[t("el-input",{attrs:{type:"textarea",rows:3,"auto-complete":"false",placeholder:"请输入文章内容"},model:{value:e.addForm.pub_content,callback:function(t){e.$set(e.addForm,"pub_content",t)},expression:"addForm.pub_content"}})],1),t("el-form-item",{attrs:{label:"文章类型",prop:"pub_type"}},[t("el-select",{attrs:{placeholder:"请输入文章类型"},model:{value:e.addForm.pub_type,callback:function(t){e.$set(e.addForm,"pub_type",t)},expression:"addForm.pub_type"}},[t("el-option",{attrs:{label:"疫情新闻",value:"疫情新闻"}}),t("el-option",{attrs:{label:"通知通告",value:"通知通告"}}),t("el-option",{attrs:{label:"媒体广外",value:"媒体广外"}}),t("el-option",{attrs:{label:"校园动态",value:"校园动态"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},T=[],j={name:"Articles",data(){return{options:[{value:"疫情新闻",label:"疫情新闻"},{value:"通知通告",label:"通知通告"},{value:"媒体广外",label:"媒体广外"},{value:"校园动态",label:"校园动态"}],tableData:[],total:0,pageNum:1,pageSize:10,pub_type:"",id:0,dialogFormVisible:!1,multipleSelection:[],addForm:{title:"",pub_time:"",pub_author:"",pub_content:"",pub_type:""},rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"}],pub_author:[{required:!0,message:"请输入文章作者",trigger:"blur"}],pub_content:[{required:!0,message:"请输入文章内容",trigger:"blur"}],pub_type:[{required:!0,message:"请输入文章类型",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/articles/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,pub_type:this.pub_type}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/articles",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){z.get("/articles/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/articles/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/articles/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},O=j,P=(0,n.Z)(O,A,T,!1,null,"8e2e6874",null),J=P.exports,U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("系统管理")]),t("el-breadcrumb-item",[e._v("发布文章")])],1),t("div",{staticStyle:{width:"900px"}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"90px",size:"medium"}},[t("el-form-item",{attrs:{prop:"title",label:"文章标题"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写文章标题"},model:{value:e.addForm.title,callback:function(t){e.$set(e.addForm,"title",t)},expression:"addForm.title"}})],1),t("el-form-item",{attrs:{label:"文章作者",prop:"pub_author"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入文章作者"},model:{value:e.addForm.pub_author,callback:function(t){e.$set(e.addForm,"pub_author",t)},expression:"addForm.pub_author"}})],1),t("el-form-item",{attrs:{label:"文章内容",prop:"pub_content"}},[t("el-input",{attrs:{type:"textarea",rows:15,"auto-complete":"false",placeholder:"请输入文章内容或相关链接"},model:{value:e.addForm.pub_content,callback:function(t){e.$set(e.addForm,"pub_content",t)},expression:"addForm.pub_content"}})],1),t("el-form-item",{attrs:{label:"文章类型",prop:"pub_type"}},[t("el-select",{attrs:{placeholder:"请输入文章类型"},model:{value:e.addForm.pub_type,callback:function(t){e.$set(e.addForm,"pub_type",t)},expression:"addForm.pub_type"}},[t("el-option",{attrs:{label:"疫情新闻",value:"疫情新闻"}}),t("el-option",{attrs:{label:"通知通告",value:"通知通告"}}),t("el-option",{attrs:{label:"媒体广外",value:"媒体广外"}}),t("el-option",{attrs:{label:"校园动态",value:"校园动态"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1)],1)},L=[],W={name:"ArticlesManage",data(){return{addForm:{title:"",pub_time:"",pub_author:"",pub_content:"",pub_type:""},rules:{title:[{required:!0,message:"请输入文章标题",trigger:"blur"}],pub_author:[{required:!0,message:"请输入文章作者",trigger:"blur"}],pub_content:[{required:!0,message:"请输入文章内容",trigger:"blur"}],pub_type:[{required:!0,message:"请输入文章类型",trigger:"blur"}]}}},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("出现错误，无法发布"),!1;z.post("/articles",this.addForm).then((e=>{e?(this.$message.success("发布成功"),this.addForm={title:"",pub_time:"",pub_author:"",pub_content:"",pub_type:""}):this.$message.error("发布失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()}}},R=W,G=(0,n.Z)(R,U,L,!1,null,"449800ce",null),K=G.exports,Q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"student"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("用户管理")]),t("el-breadcrumb-item",[e._v("学生列表管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-input",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{placeholder:"请输入班级","suffix-icon":"el-icon-edit",clearable:""},on:{change:e.load},model:{value:e.stuClass,callback:function(t){e.stuClass=t},expression:"stuClass"}}),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"140"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),t("el-table-column",{attrs:{prop:"stuClass",label:"班级"}}),t("el-table-column",{attrs:{prop:"dormitory",label:"宿舍号"}}),t("el-table-column",{attrs:{prop:"tel",label:"电话"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"70px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入需更改的密码（无需更改请填写旧密码）"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),t("el-form-item",{attrs:{label:" 姓名",prop:"name"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"班级",prop:"stuClass"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入班级"},model:{value:e.addForm.stuClass,callback:function(t){e.$set(e.addForm,"stuClass",t)},expression:"addForm.stuClass"}})],1),t("el-form-item",{attrs:{label:" 宿舍号",prop:"dormitory"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入宿舍号"},model:{value:e.addForm.dormitory,callback:function(t){e.$set(e.addForm,"dormitory",t)},expression:"addForm.dormitory"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"tel"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入电话"},model:{value:e.addForm.tel,callback:function(t){e.$set(e.addForm,"tel",t)},expression:"addForm.tel"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入邮箱"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},X=[],Y={name:"Student",data(){return{tableData:[],total:0,pageNum:1,pageSize:10,title:"",name:"",id:0,stuClass:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",password:"",name:"",stuClass:"",dormitory:"",tel:"",email:"",address:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入需更改的密码（无需更改请填写旧密码）",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],stuClass:[{required:!0,message:"请输入班级",trigger:"blur"}],dormitory:[{required:!0,message:"请输入宿舍号",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的电话",trigger:"blur"}],email:[{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"请输入正确的邮箱",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/student/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,stuClass:this.stuClass}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/student",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",password:"",name:"",stuClass:"",dormitory:"",tel:"",email:"",address:""}},getInfo(){z.get("/student/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]},this.addForm.password=""}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/student/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/student/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},ee=Y,te=(0,n.Z)(ee,Q,X,!1,null,"25e613bc",null),ae=te.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("用户管理")]),t("el-breadcrumb-item",[e._v("老师列表管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-input",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{placeholder:"请输入地址","suffix-icon":"el-icon-edit",clearable:""},on:{change:e.load},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"140"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),t("el-table-column",{attrs:{prop:"tel",label:"电话"}}),t("el-table-column",{attrs:{prop:"email",label:"邮箱"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"70px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入需更改的密码（无需更改请填写旧密码）"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),t("el-form-item",{attrs:{label:" 姓名",prop:"name"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"电话",prop:"tel"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入电话"},model:{value:e.addForm.tel,callback:function(t){e.$set(e.addForm,"tel",t)},expression:"addForm.tel"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入邮箱"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},re=[],se={name:"Teacher",data(){return{tableData:[],total:0,pageNum:1,pageSize:10,title:"",id:0,name:"",address:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",password:"",name:"",tel:"",email:"",address:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入需更改的密码（无需更改请填写旧密码）",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的电话",trigger:"blur"}],email:[{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"请输入正确的邮箱",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/teacher/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,address:this.address}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/teacher",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",password:"",name:"",tel:"",email:"",address:""}},getInfo(){z.get("/teacher/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]},this.addForm.password=""}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/teacher/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/teacher/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},oe=se,ie=(0,n.Z)(oe,le,re,!1,null,"f7f01e06",null),ne=ie.exports,de=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("用户管理")]),t("el-breadcrumb-item",[e._v("管理员列表管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入用户名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"70px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入需更改的密码（无需更改请填写旧密码）"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},ce=[],me={name:"Admin",data(){return{tableData:[],total:0,pageNum:1,pageSize:10,title:"",id:0,username:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入需更改的密码（无需更改请填写旧密码）",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/admin/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,username:this.username}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/admin",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",password:""}},getInfo(){z.get("/admin/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]},this.addForm.password=""}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/admin/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/admin/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},ue=me,pe=(0,n.Z)(ue,de,ce,!1,null,"25f9bdf4",null),he=pe.exports,be=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("健康管理")]),t("el-breadcrumb-item",[e._v("学生健康管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),[t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择身体状况"},on:{change:e.load},model:{value:e.health,callback:function(t){e.health=t},expression:"health"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],t("el-date-picker",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:e.load},model:{value:e.last_time,callback:function(t){e.last_time=t},expression:"last_time"}}),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],2),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"140"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),t("el-table-column",{attrs:{prop:"temperature",label:"体温"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{prop:"health",label:"身体状况"}}),t("el-table-column",{attrs:{prop:"contact_infection",label:"是否接触感染人员"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"last_time",label:"最新提交时间",width:"100"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"学生健康信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"体温",prop:"temperature"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入体温"},model:{value:e.addForm.temperature,callback:function(t){e.$set(e.addForm,"temperature",t)},expression:"addForm.temperature"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),t("el-form-item",{attrs:{label:"身体状况",prop:"health"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入身体状况"},model:{value:e.addForm.health,callback:function(t){e.$set(e.addForm,"health",t)},expression:"addForm.health"}})],1),t("el-form-item",{attrs:{label:"是否接触感染人员",prop:"contact_infection"}},[t("el-select",{attrs:{placeholder:"请输入是否接触感染人员"},model:{value:e.addForm.contact_infection,callback:function(t){e.$set(e.addForm,"contact_infection",t)},expression:"addForm.contact_infection"}},[t("el-option",{attrs:{label:"是",value:"是"}}),t("el-option",{attrs:{label:"否",value:"否"}})],1)],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},ge=[],fe={name:"HealthStu",data(){return{options:[{value:"健康状况正常",label:"健康状况正常"},{value:"发烧、干咳、乏力、咽痛",label:"发烧、干咳、乏力、咽痛"}],tableData:[],total:0,pageNum:1,pageSize:10,title:"",id:0,name:"",health:"",u_type:"学生",last_time:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:"学生",last_time:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],temperature:[{required:!0,message:"请输入体温",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],health:[{required:!0,message:"请输入身体状况",trigger:"blur"}],contact_infection:[{required:!0,message:"请输入是否接触感染人员",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/health/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,health:this.health,u_type:this.u_type,last_time:this.last_time}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/health",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:""}},getInfo(){z.get("/health/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/health/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/health/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},ve=fe,Fe=(0,n.Z)(ve,be,ge,!1,null,"2b75f22f",null),ye=Fe.exports,xe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("健康管理")]),t("el-breadcrumb-item",[e._v("老师健康管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),[t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择身体状况"},on:{change:e.load},model:{value:e.health,callback:function(t){e.health=t},expression:"health"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],t("el-date-picker",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:e.load},model:{value:e.last_time,callback:function(t){e.last_time=t},expression:"last_time"}}),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],2),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"140"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),t("el-table-column",{attrs:{prop:"temperature",label:"体温"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{prop:"health",label:"身体状况"}}),t("el-table-column",{attrs:{prop:"contact_infection",label:"是否接触感染人员"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"last_time",label:"最新提交时间",width:"100"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"教师健康信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"体温",prop:"temperature"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入体温"},model:{value:e.addForm.temperature,callback:function(t){e.$set(e.addForm,"temperature",t)},expression:"addForm.temperature"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),t("el-form-item",{attrs:{label:"身体状况",prop:"health"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入身体状况"},model:{value:e.addForm.health,callback:function(t){e.$set(e.addForm,"health",t)},expression:"addForm.health"}})],1),t("el-form-item",{attrs:{label:"是否接触感染人员",prop:"contact_infection"}},[t("el-select",{attrs:{placeholder:"请输入是否接触感染人员"},model:{value:e.addForm.contact_infection,callback:function(t){e.$set(e.addForm,"contact_infection",t)},expression:"addForm.contact_infection"}},[t("el-option",{attrs:{label:"是",value:"是"}}),t("el-option",{attrs:{label:"否",value:"否"}})],1)],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},_e=[],we={name:"HealthTea",data(){return{options:[{value:"健康状况正常",label:"健康状况正常"},{value:"发烧、干咳、乏力、咽痛",label:"发烧、干咳、乏力、咽痛"}],tableData:[],total:0,pageNum:1,pageSize:10,title:"",id:0,name:"",health:"",u_type:"教师",last_time:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:"教师",last_time:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],temperature:[{required:!0,message:"请输入体温",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],health:[{required:!0,message:"请输入身体状况",trigger:"blur"}],contact_infection:[{required:!0,message:"请输入是否接触感染人员",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/health/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,health:this.health,u_type:this.u_type,last_time:this.last_time}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/health",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:""}},getInfo(){z.get("/health/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/health/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/health/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},Se=we,ke=(0,n.Z)(Se,xe,_e,!1,null,"7f68cba3",null),Ce=ke.exports,$e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("健康管理")]),t("el-breadcrumb-item",[e._v("确诊信息管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-date-picker",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:e.load},model:{value:e.last_time,callback:function(t){e.last_time=t},expression:"last_time"}}),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"140"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"120"}}),t("el-table-column",{attrs:{prop:"temperature",label:"体温"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{prop:"health",label:"身体状况"}}),t("el-table-column",{attrs:{prop:"contact_infection",label:"是否接触感染人员"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"last_time",label:"最新提交时间",width:"100"}}),t("el-table-column",{attrs:{prop:"u_type",label:"用户类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"学生"===a.row.u_type?"":"success"}},[e._v(e._s(a.row.u_type))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"确诊信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"体温",prop:"temperature"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入体温"},model:{value:e.addForm.temperature,callback:function(t){e.$set(e.addForm,"temperature",t)},expression:"addForm.temperature"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),t("el-form-item",{attrs:{label:"身体状况",prop:"health"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入身体状况"},model:{value:e.addForm.health,callback:function(t){e.$set(e.addForm,"health",t)},expression:"addForm.health"}})],1),t("el-form-item",{attrs:{label:"是否接触感染人员",prop:"contact_infection"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入是否接触感染人员"},model:{value:e.addForm.contact_infection,callback:function(t){e.$set(e.addForm,"contact_infection",t)},expression:"addForm.contact_infection"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},ze=[],Ve={name:"Confirmed",data(){return{tableData:[],total:0,pageNum:1,pageSize:10,title:"",id:0,name:"",health:"发烧、干咳、乏力、咽痛",u_type:"",last_time:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:"",last_time:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],temperature:[{required:!0,message:"请输入体温",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],health:[{required:!0,message:"请输入身体状况",trigger:"blur"}],contact_infection:[{required:!0,message:"请输入是否接触感染人员",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/health/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,health:this.health,u_type:this.u_type,last_time:this.last_time}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/health",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:""}},getInfo(){z.get("/health/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/health/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/health/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},qe=Ve,Be=(0,n.Z)(qe,$e,ze,!1,null,"e07dde5c",null),Ie=Be.exports,Ne=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("请假管理")]),t("el-breadcrumb-item",[e._v("离校申请管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"112"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"70"}}),t("el-table-column",{attrs:{prop:"plan_leave",label:"计划离校时间",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_reach",label:"计划到达时间",width:"105"}}),t("el-table-column",{attrs:{prop:"destination",label:"目的地",width:"105"}}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人电话",width:"112"}}),t("el-table-column",{attrs:{prop:"plan_back",label:"计划返校时间",width:"105"}}),t("el-table-column",{attrs:{prop:"evidences",label:"学校要求的返校证明材料"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"离校申请审批",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名",disabled:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"计划离校时间",prop:"plan_leave"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划离校时间",disabled:""},model:{value:e.addForm.plan_leave,callback:function(t){e.$set(e.addForm,"plan_leave",t)},expression:"addForm.plan_leave"}})],1),t("el-form-item",{attrs:{label:"计划到达时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划到达时间",disabled:""},model:{value:e.addForm.plan_reach,callback:function(t){e.$set(e.addForm,"plan_reach",t)},expression:"addForm.plan_reach"}})],1),t("el-form-item",{attrs:{label:"目的地",prop:"destination"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写目的地",disabled:""},model:{value:e.addForm.destination,callback:function(t){e.$set(e.addForm,"destination",t)},expression:"addForm.destination"}})],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入紧急联系人电话",disabled:""},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"计划返校时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划返校时间",disabled:""},model:{value:e.addForm.plan_back,callback:function(t){e.$set(e.addForm,"plan_back",t)},expression:"addForm.plan_back"}})],1),t("el-form-item",{attrs:{label:"学校要求的返校证明材料",prop:"evidences"}},[t("el-input",{attrs:{type:"textarea",rows:4,"auto-complete":"false",placeholder:"请填写学校要求的返校证明材料",disabled:""},model:{value:e.addForm.evidences,callback:function(t){e.$set(e.addForm,"evidences",t)},expression:"addForm.evidences"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明",disabled:""},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请选择审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},Me=[],Ee={name:"Departure",data(){return{options:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,id:0,name:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",plan_leave:"",plan_reach:"",destination:"",emergency_tel:"",plan_back:"",evidences:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],plan_leave:[{required:!0,message:"请输入计划离校时间",trigger:"blur"}],plan_reach:[{required:!0,message:"请输入计划到达时间",trigger:"blur"}],destination:[{required:!0,message:"请填写目的地",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],plan_back:[{required:!0,message:"请输入计划返校时间",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.load()},methods:{load(){z.get("/departure/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),z.post("/departure",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){z.get("/departure/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/departure/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/departure/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},De=Ee,Ze=(0,n.Z)(De,Ne,Me,!1,null,"33916864",null),He=Ze.exports,Ae=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("请假管理")]),t("el-breadcrumb-item",[e._v("返校申请管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"112"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"70"}}),t("el-table-column",{attrs:{prop:"plan_go",label:"计划出发时间",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_reach",label:"计划到达时间",width:"105"}}),t("el-table-column",{attrs:{prop:"becity",label:"出发地点",width:"105"}}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人电话",width:"112"}}),t("el-table-column",{attrs:{prop:"evidences",label:"学校要求的返校证明材料"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"返校申请审批",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名",disabled:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"计划出发时间",prop:"plan_go"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划出发时间",disabled:""},model:{value:e.addForm.plan_go,callback:function(t){e.$set(e.addForm,"plan_go",t)},expression:"addForm.plan_go"}})],1),t("el-form-item",{attrs:{label:"计划到达时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划到达时间",disabled:""},model:{value:e.addForm.plan_reach,callback:function(t){e.$set(e.addForm,"plan_reach",t)},expression:"addForm.plan_reach"}})],1),t("el-form-item",{attrs:{label:"出发地点",prop:"becity"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写出发地点",disabled:""},model:{value:e.addForm.becity,callback:function(t){e.$set(e.addForm,"becity",t)},expression:"addForm.becity"}})],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入紧急联系人电话",disabled:""},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"学校要求的返校证明材料",prop:"evidences"}},[t("el-input",{attrs:{type:"textarea",rows:4,"auto-complete":"false",placeholder:"请填写学校要求的返校证明材料",disabled:""},model:{value:e.addForm.evidences,callback:function(t){e.$set(e.addForm,"evidences",t)},expression:"addForm.evidences"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明",disabled:""},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请输入审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},Te=[],je={name:"Back",data(){return{options:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,id:0,name:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",plan_go:"",plan_reach:"",becity:"",emergency_tel:"",evidences:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],plan_go:[{required:!0,message:"请输入计划出发时间",trigger:"blur"}],plan_reach:[{required:!0,message:"请输入计划到达时间",trigger:"blur"}],becity:[{required:!0,message:"请填写出发地点",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.load()},methods:{load(){z.get("/back/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),z.post("/back",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){z.get("/back/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/back/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/back/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},Oe=je,Pe=(0,n.Z)(Oe,Ae,Te,!1,null,"11c6d8f4",null),Je=Pe.exports,Ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("请假管理")]),t("el-breadcrumb-item",[e._v("请假申请管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择请假事由"},on:{change:e.load},model:{value:e.leave_type,callback:function(t){e.leave_type=t},expression:"leave_type"}},e._l(e.options1,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options2,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"112"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"70"}}),t("el-table-column",{attrs:{prop:"leave_type",label:"请假类型",width:"80"}}),t("el-table-column",{attrs:{prop:"start",label:"开始时间",width:"105"}}),t("el-table-column",{attrs:{prop:"end",label:"结束时间",width:"105"}}),t("el-table-column",{attrs:{prop:"reason",label:"请假事由",width:"200"}}),t("el-table-column",{attrs:{prop:"leave_yn",label:"是否离校",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("0"===t.row.leave_yn?"否":"是")+" ")]}}])}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人电话",width:"112"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"260"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"请假申请审批",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名",disabled:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"请假类型"}},[t("el-select",{attrs:{placeholder:"请选择请假类型",disabled:""},model:{value:e.addForm.leave_type,callback:function(t){e.$set(e.addForm,"leave_type",t)},expression:"addForm.leave_type"}},[t("el-option",{attrs:{label:"事假",value:"事假"}}),t("el-option",{attrs:{label:"病假",value:"病假"}}),t("el-option",{attrs:{label:"实习",value:"实习"}}),t("el-option",{attrs:{label:"丧假",value:"丧假"}}),t("el-option",{attrs:{label:"婚假",value:"婚假"}}),t("el-option",{attrs:{label:"探亲访友",value:"探亲访友"}}),t("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),t("el-form-item",{attrs:{label:"开始时间",prop:"start"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始时间",disabled:""},model:{value:e.addForm.start,callback:function(t){e.$set(e.addForm,"start",t)},expression:"addForm.start"}})],1),t("el-form-item",{attrs:{label:"结束时间",prop:"end"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束时间",disabled:""},model:{value:e.addForm.end,callback:function(t){e.$set(e.addForm,"end",t)},expression:"addForm.end"}})],1),t("el-form-item",{attrs:{label:"请假事由",prop:"reason"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写请假事由",disabled:""},model:{value:e.addForm.reason,callback:function(t){e.$set(e.addForm,"reason",t)},expression:"addForm.reason"}})],1),t("el-form-item",{attrs:{label:"是否离校"}},[t("el-select",{attrs:{placeholder:"请选择是否离校",disabled:""},model:{value:e.addForm.leave_yn,callback:function(t){e.$set(e.addForm,"leave_yn",t)},expression:"addForm.leave_yn"}},[t("el-option",{attrs:{label:"是",value:"1"}}),t("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入紧急联系人电话",disabled:""},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明",disabled:""},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请选择审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},Le=[],We={name:"Leave",data(){return{options1:[{value:"事假",label:"事假"},{value:"病假",label:"病假"},{value:"实习",label:"实习"},{value:"丧假",label:"丧假"},{value:"婚假",label:"婚假"},{value:"探亲访友",label:"探亲访友"},{value:"其他",label:"其他"}],options2:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,id:0,username:"",name:"",leave_type:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",leave_type:"",start:"",end:"",reason:"",leave_yn:"",emergency_tel:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],leave_type:[{required:!0,message:"请输入请假类型",trigger:"blur"}],start:[{required:!0,message:"请输入开始时间",trigger:"blur"}],end:[{required:!0,message:"请输入结束",trigger:"blur"}],reason:[{required:!0,message:"请填写请假事由",trigger:"blur"}],leave_yn:[{required:!0,message:"是否离校",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.load()},methods:{load(){z.get("/leave/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,leave_type:this.leave_type,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"否"===this.addForm.leave_yn?this.addForm.leave_yn="0":"是"===this.addForm.leave_yn&&(this.addForm.leave_yn="1"),"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),z.post("/leave",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){z.get("/leave/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/leave/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/leave/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},Re=We,Ge=(0,n.Z)(Re,Ue,Le,!1,null,"165731de",null),Ke=Ge.exports,Qe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("防疫物资管理")]),t("el-breadcrumb-item",[e._v("物资申请管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入物资名称","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.goods_name,callback:function(t){e.goods_name=t},expression:"goods_name"}}),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"goods_name",label:"物资名称"}}),t("el-table-column",{attrs:{prop:"storage",label:"库存量(份)"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"物资信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px",size:"medium"}},[t("el-form-item",{attrs:{label:"物资名称",prop:"goods_name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入物资名称"},model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),t("el-form-item",{attrs:{label:"库存量(?/份)",prop:"storage"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入库存量"},model:{value:e.addForm.storage,callback:function(t){e.$set(e.addForm,"storage",t)},expression:"addForm.storage"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},Xe=[],Ye={name:"Materials",data(){return{tableData:[],total:0,pageNum:1,pageSize:10,id:0,title:"",goods_name:"",dialogFormVisible:!1,multipleSelection:[],addForm:{goods_name:"",storage:""},rules:{goods_name:[{required:!0,message:"请输入物资名称",trigger:"blur"}],storage:[{required:!0,message:"请输入库存量",trigger:"blur"}]}}},created(){this.load()},methods:{load(){z.get("/materials/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,goods_name:this.goods_name}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;z.post("/materials",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",password:"",name:"",stuClass:"",dormitory:"",tel:"",email:"",address:""}},getInfo(){z.get("/materials/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/materials/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/materials/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},et=Ye,tt=(0,n.Z)(et,Qe,Xe,!1,null,"b97ea98c",null),at=tt.exports,lt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[e._v("防疫物资管理")]),t("el-breadcrumb-item",[e._v("物资库存管理")])],1),t("div",{staticClass:"student-search",staticStyle:{padding:"0 0 10px 0"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入物资名称","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.goods_name,callback:function(t){e.goods_name=t},expression:"goods_name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定批量删除这些数据吗？"},on:{confirm:function(t){return e.delBatch()}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("批量删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)],1),t("el-table",{staticStyle:{width:"100%",height:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),t("el-table-column",{attrs:{type:"index",label:"序号",width:"50"}}),t("el-table-column",{attrs:{prop:"name",label:"申请者姓名"}}),t("el-table-column",{attrs:{prop:"goods_name",label:"物资名称"}}),t("el-table-column",{attrs:{prop:"application",label:"申请量(份)"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"300"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"物资申请信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"物资名称",prop:"goods_name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写物资名称"},model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),t("el-form-item",{attrs:{label:"申请量(份)",prop:"application"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入申请量"},model:{value:e.addForm.application,callback:function(t){e.$set(e.addForm,"application",t)},expression:"addForm.application"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请输入审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{padding:"10px 0"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)},rt=[],st={name:"Application",data(){return{options:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,id:0,goods_name:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",goods_name:"",application:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],goods_name:[{required:!0,message:"请输入物资名称",trigger:"blur"}],application:[{required:!0,message:"请输入申请量",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.load()},methods:{load(){z.get("/application/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,goods_name:this.goods_name,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),z.post("/application",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){z.get("/application/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){z["delete"]("/application/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));z.post("/application/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},ot=st,it=(0,n.Z)(ot,lt,rt,!1,null,"4ff3b8c9",null),nt=it.exports,dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"index"},[t("el-descriptions",{staticClass:"margin-top",attrs:{column:1,size:e.size,border:""}},[t("template",{slot:"title"},[e._v("个人中心 ")]),t("template",{slot:"extra"},[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){return e.handleEdit()}}},[e._v("修改密码")])],1),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" "+e._s(e.username)+" ")],2)],2),t("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"70px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请填写你要修改的密码"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1)],1)},ct=[],mt={name:"UserInfro",data(){return{username:"",password:"",size:"",dialogFormVisible:!1,addForm:{username:"",password:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入您要修改的密码",trigger:"blur"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username"))},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e){let e=this;return e.$message.error("信息不全或有误，请认真填写"),!1}{let e=this;z.post(`/admin/username?username=${this.addForm.username}&password=${this.addForm.password}`).then((t=>{t?(e.$message.success("修改成功"),e.dialogFormVisible=!1):e.$message.error("修改失败")}))}}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()},handleEdit(){this.addForm.username=this.username,this.dialogFormVisible=!0}}},ut=mt,pt=(0,n.Z)(ut,dt,ct,!1,null,"111de83c",null),ht=pt.exports,bt=a(8499),gt=a.n(bt);l["default"].use(m.ZP);const ft=[{path:"/",component:I,redirect:"/login"},{path:"/login",component:I},{path:"/home",component:w,redirect:"/index",children:[{path:"/index",component:H},{path:"/articles",component:J},{path:"/articlesManage",component:K},{path:"/student",component:ae},{path:"/teacher",component:ne},{path:"/admin",component:he},{path:"/healthStu",component:ye},{path:"/healthTea",component:Ce},{path:"/confirmed",component:Ie},{path:"/departure",component:He},{path:"/back",component:Je},{path:"/leave",component:Ke},{path:"/materials",component:at},{path:"/application",component:nt},{path:"/userInfo",component:ht}]}],vt=new m.ZP({routes:ft});vt.beforeEach(((e,t,a)=>{if(e.path.startsWith("/login"))window.localStorage.removeItem("username"),window.localStorage.removeItem("token"),a();else{let e=JSON.parse(window.localStorage.getItem("token"));e?(z({url:"/admin/checkToken",method:"get",headers:{token:e}}).then((e=>{e||(bt.Message.error("登录信息出现问题，请重新登录"),a({path:"/login"}))})),a()):a({path:"/login"})}}));var Ft=vt,yt=a(3822);l["default"].use(yt.ZP);var xt=new yt.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});l["default"].config.productionTip=!1,l["default"].use(gt()),l["default"].prototype.request=z,new l["default"]({router:Ft,store:xt,render:e=>e(c)}).$mount("#app")}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var s=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(s.exports,s,s.exports,a),s.loaded=!0,s.exports}a.m=e,function(){var e=[];a.O=function(t,l,r,s){if(!l){var o=1/0;for(c=0;c<e.length;c++){l=e[c][0],r=e[c][1],s=e[c][2];for(var i=!0,n=0;n<l.length;n++)(!1&s||o>=s)&&Object.keys(a.O).every((function(e){return a.O[e](l[n])}))?l.splice(n--,1):(i=!1,s<o&&(o=s));if(i){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[l,r,s]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,s,o=l[0],i=l[1],n=l[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(n)var c=n(a)}for(t&&t(l);d<o.length;d++)s=o[d],a.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return a.O(c)},l=self["webpackChunkcampus_admin_system"]=self["webpackChunkcampus_admin_system"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(3870)}));l=a.O(l)})();
//# sourceMappingURL=app.0dbe7bef.js.map