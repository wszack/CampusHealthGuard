(function(){"use strict";var e={2587:function(e,t,a){var l=a(6369),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],i={name:"MyApp"},o=i,n=a(3736),d=(0,n.Z)(o,s,r,!1,null,"390153be",null),m=d.exports,c=a(2631),u=a(4311);const p=u.Z.create({baseURL:"http://localhost:9090",timeout:5e3});p.interceptors.request.use((e=>(e.headers["Content-Type"]="application/json;charset=utf-8",e)),(e=>Promise.reject(e))),p.interceptors.response.use((e=>{let t=e.data;return e.config.responseType,t}),(e=>(console.log("err"+e),Promise.reject(e))));var h=p,g=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticClass:"clearfix"},[t("div",{staticClass:"left"},[e._v("欢迎访问校园疫情防控系统平台网站！ ")]),t("div",{staticClass:"right"},[t("el-avatar",{attrs:{size:"medium",src:"https://cube.elemecdn.com/0/88/03b0d39583f48206768a7534e55bcpng.png"}}),t("el-dropdown",{attrs:{trigger:"click"},on:{command:e.handleCommand}},[t("span",{staticClass:"el-dropdown-link"},[e._v(" "+e._s(e.username)),t("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),t("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t("el-dropdown-item",{attrs:{command:"userInfo"}},[e._v("个人中心")]),t("el-dropdown-item",{attrs:{command:"out"}},[e._v("退出")])],1)],1)],1)]),t("div",{staticClass:"nav clearfix"},[t("div",{staticClass:"left"},[t("a",{attrs:{href:"#/index"}},[t("img",{attrs:{src:a(5096),alt:"校园疫情防控系统"}}),t("h3",[e._v("校园疫情防控系统")])])]),t("div",{staticClass:"right"},[t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":e.activeIndex,mode:"horizontal",router:""}},[t("el-menu-item",{attrs:{index:"/index"}},[e._v("网站首页")]),t("el-menu-item",{attrs:{index:"/news"}},[e._v("疫情新闻")]),t("el-menu-item",{attrs:{index:"/notices"}},[e._v("通知通告")]),t("el-menu-item",{attrs:{index:"/campus"}},[e._v("校园动态")]),t("el-menu-item",{attrs:{index:"/media"}},[e._v("媒体新闻")])],1)],1)]),t("router-view")],1)},b=[],f=(a(7658),{name:"Home",components:{},data(){return{username:"",type:"",activeIndex:"1"}},created(){this.username=JSON.parse(window.localStorage.getItem("username"))},methods:{handleCommand(e){if(e)switch(e){case"out":this.out();break;case"userInfo":this.userInfo();break}else this.$message("菜单选项缺少command属性")},out(){this.$router.push("/login")},userInfo(){this.type=JSON.parse(window.localStorage.getItem("type")),"学生"===this.type?this.$router.push("/studentInfo"):"教师"===this.type&&this.$router.push("/teacherInfo")}}}),v=f,y=(0,n.Z)(v,g,b,!1,null,"dd7ae990",null),F=y.exports,_=function(){var e=this,t=e._self._c;return t("div",{staticClass:"login clearfix"},[t("el-form",{ref:"loginForm",staticClass:"loginContainer clearfix",attrs:{model:e.loginForm,rules:e.rules,"label-width":"80px"}},[t("h2",{staticClass:"loginTitle"},[e._v("校园疫情防控系统")]),t("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"账号类型",prop:"type"}},[t("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择账号类型"},model:{value:e.loginForm.type,callback:function(t){e.$set(e.loginForm,"type",t)},expression:"loginForm.type"}},[t("el-option",{attrs:{label:"学生",value:"学生"}}),t("el-option",{attrs:{label:"教师",value:"教师"}})],1)],1),t("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username",t)},expression:"loginForm.username"}})],1),t("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入密码"},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}})],1),t("el-form-item",{staticStyle:{width:"380px"},attrs:{label:"验证码",prop:"code"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"点击图片更换验证码"},model:{value:e.loginForm.code,callback:function(t){e.$set(e.loginForm,"code",t)},expression:"loginForm.code"}}),t("el-image",{staticClass:"captchaImg",attrs:{src:e.captchaUrl}}),t("a",{staticStyle:{display:"inline-block"},attrs:{href:"javascript:;"},on:{click:e.getImage}},[e._v("换一张")])],1),t("el-form-item",{staticClass:"button"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("loginForm")}}},[e._v("登录")]),t("el-button",{on:{click:function(t){return e.resetForm("loginForm")}}},[e._v("重置")])],1)],1)],1)},x=[],w={name:"Login",data(){return{captchaUrl:"",loginForm:{username:"",password:"",type:"",code:"",token:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}],type:[{required:!0,message:"请选择账号类型",trigger:"change"}],code:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:4,message:"长度在 4 个字符",trigger:"blur"}]}}},created(){this.getSrc()},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("error submit!"),!1;{let e=this;"学生"===this.loginForm.type?h.get("/student/login",{params:e.loginForm}).then((function(t){null!=t.data?(localStorage.setItem("type",JSON.stringify("学生")),localStorage.setItem("username",JSON.stringify(t.data.username)),localStorage.setItem("token",JSON.stringify(t.data.token)),e.$router.push("/home")):e.$message.error("登录失败，"+t.message)})):"教师"===this.loginForm.type&&h.get("/teacher/login",{params:e.loginForm}).then((function(t){null!=t.data?(localStorage.setItem("type",JSON.stringify("教师")),localStorage.setItem("username",JSON.stringify(t.data.username)),localStorage.setItem("token",JSON.stringify(t.data.token)),e.$router.push("/home")):e.$message.error("登录失败，"+t.message)}))}}))},resetForm(e){this.$refs[e].resetFields()},getImage(){this.getSrc()},getSrc(){let e=this;h.get("/user/getImage?time="+Math.random()).then((t=>{e.captchaUrl=t}))}}},k=w,S=(0,n.Z)(k,_,x,!1,null,"1fc806d2",null),C=S.exports,$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"index"},[t("div",{staticClass:"block"},[t("el-carousel",{attrs:{height:"500px",interval:5e3,arrow:"never"}},e._l(e.Itemsrc,(function(e,a){return t("el-carousel-item",{key:a},[t("img",{attrs:{src:e.imgUrl}})])})),1)],1),t("div",{staticClass:"container"},[t("el-row",[t("el-col",{attrs:{span:24}})],1),t("el-row",{staticClass:"row-bg",attrs:{type:"flex",justify:"space-between"}},[t("el-col",{attrs:{span:8}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("通知通告")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.handleNotices}},[e._v("更多"),t("i",{staticClass:"el-icon-d-arrow-right"})])],1),e._l(e.listData1,(function(a,l){return t("div",{key:l,staticClass:"text item"},[t("a",{attrs:{href:a.pub_content,target:"_blank"}},[e._v(e._s(a.title))])])}))],2)],1),t("el-col",{attrs:{span:8}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("校园动态")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.handleCampus}},[e._v("更多"),t("i",{staticClass:"el-icon-d-arrow-right"})])],1),e._l(e.listData2,(function(a,l){return t("div",{key:l,staticClass:"text item"},[t("a",{attrs:{href:a.pub_content,target:"_blank"}},[e._v(e._s(a.title))])])}))],2)],1),t("el-col",{attrs:{span:8}},[t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[t("span",[e._v("媒体校园")]),t("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:e.handleMedia}},[e._v("更多"),t("i",{staticClass:"el-icon-d-arrow-right"})])],1),e._l(e.listData3,(function(a,l){return t("div",{key:l,staticClass:"text item"},[t("a",{attrs:{href:a.pub_content,target:"_blank"}},[e._v(e._s(a.title))])])}))],2)],1)],1)],1),e._m(0)])},z=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"footer"},[t("p",[e._v("© 2022 GDUFS")])])}],N={name:"Index",data(){return{listData1:[],listData2:[],listData3:[],pub_type:"",Itemsrc:[{imgUrl:a(7701)},{imgUrl:a(8845)},{imgUrl:a(7421)},{imgUrl:a(2823)}]}},created(){this.load()},methods:{loadNotices(){this.pub_type="通知通告",h.get("/articles/types",{params:{pub_type:this.pub_type}}).then((e=>{this.listData1=e.data}))},loadCampus(){this.pub_type="校园动态",h.get("/articles/types",{params:{pub_type:this.pub_type}}).then((e=>{this.listData2=e.data}))},loadMedia(){this.pub_type="媒体校园",h.get("/articles/types",{params:{pub_type:this.pub_type}}).then((e=>{this.listData3=e.data}))},load(){Promise.resolve().then((e=>new Promise(((e,t)=>{setTimeout((()=>{this.loadNotices(),e("第一个异步进程")}),100)})))).then((()=>new Promise(((e,t)=>{setTimeout((()=>{this.loadCampus(),e("第二个异步进程")}),100)})))).then((()=>new Promise(((e,t)=>{setTimeout((()=>{this.loadMedia(),e("第三个异步进程")}),100)}))))},handleNotices(){ta.push("/notices")},handleCampus(){ta.push("/campus")},handleMedia(){ta.push("/media")}}},M=N,V=(0,n.Z)(M,$,z,!1,null,"5dd81508",null),q=V.exports,D=function(){var e=this,t=e._self._c;return t("div",{staticClass:"news"},[t("div",{staticClass:"container clearfix"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location"}),e._v("首页")]),t("el-breadcrumb-item",[e._v("疫情新闻")])],1),t("div",{staticClass:"body"},e._l(e.listData,(function(a,l){return t("div",{key:l,staticClass:"item"},[t("a",{attrs:{href:a.pub_content,target:"_blank"}},[e._v(e._s(a.title))]),t("span",[e._v("发布者："+e._s(a.pub_author)+" 发布日期："+e._s(a.pub_time))])])})),0),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},I=[],H={name:"News",data(){return{total:0,pageNum:1,pageSize:10,pub_type:"",listData:[]}},created(){this.loadNews()},methods:{loadNews(){this.pub_type="疫情新闻",h.get("/articles/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,pub_type:this.pub_type}}).then((e=>{this.listData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.loadNews()},handleCurrentChange(e){this.pageNum=e,this.loadNews()}}},B=H,j=(0,n.Z)(B,D,I,!1,null,"1c7bce62",null),Z=j.exports,O=function(){var e=this,t=e._self._c;return t("div",{staticClass:"notices"},[t("div",{staticClass:"container clearfix"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location"}),e._v("首页")]),t("el-breadcrumb-item",[e._v("通知通告")])],1),t("div",{staticClass:"body"},e._l(e.listData,(function(a,l){return t("div",{key:l,staticClass:"item"},[t("a",{attrs:{href:a.pub_content,target:"_blank"}},[e._v(e._s(a.title))]),t("span",[e._v("发布者："+e._s(a.pub_author)+" 发布日期："+e._s(a.pub_time))])])})),0),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},E=[],A={name:"Notices",data(){return{total:0,pageNum:1,pageSize:10,pub_type:"",listData:[]}},created(){this.loadNotices()},methods:{loadNotices(){this.pub_type="通知通告",h.get("/articles/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,pub_type:this.pub_type}}).then((e=>{this.listData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.loadNotices()},handleCurrentChange(e){this.pageNum=e,this.loadNotices()}}},T=A,J=(0,n.Z)(T,O,E,!1,null,"d89a2a44",null),P=J.exports,U=function(){var e=this,t=e._self._c;return t("div",{staticClass:"campus"},[t("div",{staticClass:"container clearfix"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location"}),e._v("首页")]),t("el-breadcrumb-item",[e._v("校园动态")])],1),t("div",{staticClass:"body"},e._l(e.listData,(function(a,l){return t("div",{key:l,staticClass:"item"},[t("a",{attrs:{href:a.pub_content,target:"_blank"}},[e._v(e._s(a.title))]),t("span",[e._v("发布者："+e._s(a.pub_author)+" 发布日期："+e._s(a.pub_time))])])})),0),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},L=[],G={name:"Campus",data(){return{total:0,pageNum:1,pageSize:10,pub_type:"",listData:[]}},created(){this.loadCampus()},methods:{loadCampus(){this.pub_type="校园动态",h.get("/articles/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,pub_type:this.pub_type}}).then((e=>{this.listData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.loadCampus()},handleCurrentChange(e){this.pageNum=e,this.loadCampus()}}},R=G,W=(0,n.Z)(R,U,L,!1,null,"5ff5e4e6",null),K=W.exports,Q=function(){var e=this,t=e._self._c;return t("div",{staticClass:"media"},[t("div",{staticClass:"container clearfix"},[t("el-breadcrumb",{staticClass:"brand",attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location"}),e._v("首页")]),t("el-breadcrumb-item",[e._v("媒体校园")])],1),t("div",{staticClass:"body"},e._l(e.listData,(function(a,l){return t("div",{key:l,staticClass:"item"},[t("a",{attrs:{href:a.pub_content,target:"_blank"}},[e._v(e._s(a.title))]),t("span",[e._v("发布者："+e._s(a.pub_author)+" 发布日期："+e._s(a.pub_time))])])})),0),t("div",{staticClass:"pagination"},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},X=[],Y={name:"Media",data(){return{total:0,pageNum:1,pageSize:10,pub_type:"",listData:[]}},created(){this.loadMedia()},methods:{loadMedia(){this.pub_type="媒体校园",h.get("/articles/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,pub_type:this.pub_type}}).then((e=>{this.listData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.loadMedia()},handleCurrentChange(e){this.pageNum=e,this.loadMedia()}}},ee=Y,te=(0,n.Z)(ee,Q,X,!1,null,"07e8ac15",null),ae=te.exports,le=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("个人信息")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-descriptions",{attrs:{title:"个人信息",column:2,size:e.size,border:""}},[t("template",{slot:"extra"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit()}}},[e._v("编辑个人信息")])],1),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" "+e._s(this.listData.username)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user-solid"}),e._v(" 姓名 ")]),e._v(" "+e._s(this.listData.name)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-school"}),e._v(" 专业班级 ")]),e._v(" "+e._s(this.listData.stuClass)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-home"}),e._v(" 宿舍号 ")]),e._v(" "+e._s(this.listData.dormitory)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 联系电话 ")]),e._v(" "+e._s(this.listData.tel)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-promotion"}),e._v(" 邮箱 ")]),e._v(" "+e._s(this.listData.email)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-location-outline"}),e._v(" 居住地 ")]),e._v(" "+e._s(this.listData.address)+" ")],2)],2),t("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入需更改的密码（无需更改请填写旧密码）"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"专业班级",prop:"stuClass"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入专业班级"},model:{value:e.addForm.stuClass,callback:function(t){e.$set(e.addForm,"stuClass",t)},expression:"addForm.stuClass"}})],1),t("el-form-item",{attrs:{label:"宿舍号",prop:"dormitory"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入宿舍号"},model:{value:e.addForm.dormitory,callback:function(t){e.$set(e.addForm,"dormitory",t)},expression:"addForm.dormitory"}})],1),t("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入联系电话"},model:{value:e.addForm.tel,callback:function(t){e.$set(e.addForm,"tel",t)},expression:"addForm.tel"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入邮箱"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),t("el-form-item",{attrs:{label:"居住地",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入居住地"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1)],1)],1)])])},se=[],re=function(){var e=this,t=e._self._c;return t("el-aside",{attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","unique-opened":"","default-active":this.$route.path}},[t("el-menu-item",{attrs:{index:"/studentInfo"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-home"}),t("span",[e._v("个人信息")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/studentHealth"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-tickets"}),t("span",[e._v("健康打卡")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/studentDeparture"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("离校申请")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/studentBack"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("返校申请")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/studentLeave"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("请假申请")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/studentApplicaiton"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-custom"}),t("span",[e._v("物资申请")]),t("i",{staticClass:"el-icon-arrow-right"})])],2)],1)],1)},ie=[],oe={name:"StuSideMenu"},ne=oe,de=(0,n.Z)(ne,re,ie,!1,null,"beb5ede2",null),me=de.exports,ce={name:"StudentInfo",components:{SideMenu:me},data(){return{username:"",password:"",name:"",stuClass:"",dormitory:"",tel:"",email:"",address:"",size:"",dialogFormVisible:!1,listData:[],addForm:{username:"",password:"",name:"",stuClass:"",dormitory:"",tel:"",email:"",address:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入需更改的密码（无需更改请填写旧密码）",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],stuClass:[{required:!0,message:"请输入班级",trigger:"blur"}],dormitory:[{required:!0,message:"请输入宿舍号",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的电话",trigger:"blur"}],email:[{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"请输入正确的邮箱",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.getStu()},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e){let e=this;return e.$message.error("信息不全或有误，请认真填写"),!1}{let e=this;h.post("/student/username",this.addForm).then((t=>{t?(e.$message.success("保存成功"),e.dialogFormVisible=!1,this.getStu()):e.$message.error("保存失败")}))}}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()},handleEdit(){this.addForm.username=this.username,this.addForm.name=this.listData.name,this.addForm.stuClass=this.listData.stuClass,this.addForm.dormitory=this.listData.dormitory,this.addForm.tel=this.listData.tel,this.addForm.email=this.listData.email,this.addForm.address=this.listData.address,this.dialogFormVisible=!0},getStu(){h.get("/student/username",{params:{username:this.username}}).then((e=>{this.listData=e[0]}))}}},ue=ce,pe=(0,n.Z)(ue,le,se,!1,null,"88b90b28",null),he=pe.exports,ge=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("健康打卡")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-button",{staticStyle:{margin:"20px 0px 5px 20px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("健康打卡"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"temperature",label:"体温",width:"80"}}),t("el-table-column",{attrs:{prop:"address",label:"地址",width:"200"}}),t("el-table-column",{attrs:{prop:"health",label:"身体状况",width:"250"}}),t("el-table-column",{attrs:{prop:"contact_infection",label:"是否接触感染人员",width:"140"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"last_time",label:"更新时间",width:"200"}})],1),t("el-dialog",{attrs:{title:"健康打卡",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"体温",prop:"temperature"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写体温"},model:{value:e.addForm.temperature,callback:function(t){e.$set(e.addForm,"temperature",t)},expression:"addForm.temperature"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),t("el-form-item",{attrs:{label:"身体状况",prop:"health"}},[t("el-select",{attrs:{placeholder:"请选择身体状况"},model:{value:e.addForm.health,callback:function(t){e.$set(e.addForm,"health",t)},expression:"addForm.health"}},[t("el-option",{attrs:{label:"健康状况正常",value:"健康状况正常"}}),t("el-option",{attrs:{label:"发烧、干咳、乏力、咽痛",value:"发烧、干咳、乏力、咽痛"}})],1)],1),t("el-form-item",{attrs:{label:"是否接触感染人员",prop:"contact_infection"}},[t("el-select",{attrs:{placeholder:"请选择是否接触感染人员"},model:{value:e.addForm.contact_infection,callback:function(t){e.$set(e.addForm,"contact_infection",t)},expression:"addForm.contact_infection"}},[t("el-option",{attrs:{label:"是",value:"是"}}),t("el-option",{attrs:{label:"否",value:"否"}})],1)],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"用户类型",prop:"u_type"}},[t("el-select",{attrs:{disabled:""},model:{value:e.addForm.u_type,callback:function(t){e.$set(e.addForm,"u_type",t)},expression:"addForm.u_type"}},[t("el-option",{attrs:{label:"学生",value:"学生"}}),t("el-option",{attrs:{label:"教师",value:"教师"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},be=[],fe={name:"StudentHealth",components:{SideMenu:me},data(){return{tableData:[],total:0,pageNum:1,pageSize:10,username:"",u_type:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:"",last_time:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],temperature:[{required:!0,message:"请输入体温",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],health:[{required:!0,message:"请选择健康状况",trigger:"change"}],contact_infection:[{required:!0,message:"请选择是否接触感染人员",trigger:"change"}],u_type:[{required:!0,message:"请选择用户类型",trigger:"change"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.u_type=JSON.parse(window.localStorage.getItem("type")),this.load()},methods:{load(){h.get("/health/healthPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,username:this.username}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/health",this.addForm).then((e=>{e?(this.$message.success("打卡成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("打卡失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()},handleAdd(){this.dialogFormVisible=!0,this.addForm={username:this.username,name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:this.u_type}},handleEdit(e){h.post("/health/"+e).then((e=>{e?(this.$message.success("审批成功"),this.load()):this.$message.error("审批失败")}))},del(e){h["delete"]("/health/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))}}},ve=fe,ye=(0,n.Z)(ve,ge,be,!1,null,"dcb9459c",null),Fe=ye.exports,_e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("请假申请")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-button",{staticStyle:{margin:"20px 0px 5px 20px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("申请"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"leave_type",label:"请假类型",width:"80"}}),t("el-table-column",{attrs:{prop:"start",label:"开始时间",width:"105"}}),t("el-table-column",{attrs:{prop:"end",label:"结束时间",width:"105"}}),t("el-table-column",{attrs:{prop:"reason",label:"请假事由",width:"180"}}),t("el-table-column",{attrs:{prop:"leave_yn",label:"是否离校",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("0"===t.row.leave_yn?"否":"是")+" ")]}}])}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人电话",width:"112"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"warning":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定取消吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger",disabled:"0"!==a.row.status},slot:"reference"},[e._v("取消申请"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"请假申请",visible:e.dialogFormVisible,width:"32%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"120px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"请假类型",prop:"leave_type"}},[t("el-select",{attrs:{placeholder:"请选择请假类型"},model:{value:e.addForm.leave_type,callback:function(t){e.$set(e.addForm,"leave_type",t)},expression:"addForm.leave_type"}},[t("el-option",{attrs:{label:"事假",value:"事假"}}),t("el-option",{attrs:{label:"病假",value:"病假"}}),t("el-option",{attrs:{label:"实习",value:"实习"}}),t("el-option",{attrs:{label:"丧假",value:"丧假"}}),t("el-option",{attrs:{label:"婚假",value:"婚假"}}),t("el-option",{attrs:{label:"探亲访友",value:"探亲访友"}}),t("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),t("el-form-item",{attrs:{label:"开始时间",prop:"start"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始时间"},model:{value:e.addForm.start,callback:function(t){e.$set(e.addForm,"start",t)},expression:"addForm.start"}})],1),t("el-form-item",{attrs:{label:"结束时间",prop:"end"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束时间"},model:{value:e.addForm.end,callback:function(t){e.$set(e.addForm,"end",t)},expression:"addForm.end"}})],1),t("el-form-item",{attrs:{label:"请假事由",prop:"reason"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写请假事由"},model:{value:e.addForm.reason,callback:function(t){e.$set(e.addForm,"reason",t)},expression:"addForm.reason"}})],1),t("el-form-item",{attrs:{label:"是否离校",prop:"leave_yn"}},[t("el-select",{attrs:{placeholder:"请选择是否离校"},model:{value:e.addForm.leave_yn,callback:function(t){e.$set(e.addForm,"leave_yn",t)},expression:"addForm.leave_yn"}},[t("el-option",{attrs:{label:"是",value:"1"}}),t("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入紧急联系人电话"},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},xe=[],we={name:"StudentLeave",components:{SideMenu:me},data(){return{tableData:[],total:0,pageNum:1,pageSize:10,username:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",leave_type:"",start:"",end:"",reason:"",leave_yn:"",emergency_tel:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],leave_type:[{required:!0,message:"请选择请假类型",trigger:"change"}],start:[{required:!0,message:"请选择开始时间",trigger:"change"}],end:[{required:!0,message:"请选择结束时间",trigger:"change"}],reason:[{required:!0,message:"请填写请假事由",trigger:"blur"}],leave_yn:[{required:!0,message:"请选择是否离校",trigger:"change"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/leave/leavePage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,username:this.username}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/leave",this.addForm).then((e=>{e?(this.$message.success("申请成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("申请失败")}))}))},resetForm(e){this.$refs[e].resetFields()},handleAdd(){this.dialogFormVisible=!0,this.addForm={username:this.username,name:"",leave_type:"",start:"",end:"",reason:"",leave:"",emergency_tel:"",remarks:"",status:""}},del(e){h["delete"]("/leave/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))}}},ke=we,Se=(0,n.Z)(ke,_e,xe,!1,null,"4426e5d0",null),Ce=Se.exports,$e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("返校申请")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-button",{staticStyle:{margin:"20px 0px 5px 20px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("申请"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"plan_go",label:"计划出发时间",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_reach",label:"计划到达时间",width:"105"}}),t("el-table-column",{attrs:{prop:"becity",label:"出发地点",width:"105"}}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人",width:"180"}}),t("el-table-column",{attrs:{prop:"evidences",label:"学校要求的离校证明材料",width:"112"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"warning":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定取消吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger",disabled:"0"!==a.row.status},slot:"reference"},[e._v("取消申请"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"返校申请",visible:e.dialogFormVisible,width:"32%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"120px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"计划出发时间",prop:"plan_go"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择计划出发时间"},model:{value:e.addForm.plan_go,callback:function(t){e.$set(e.addForm,"plan_go",t)},expression:"addForm.plan_go"}})],1),t("el-form-item",{attrs:{label:"计划到达时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择计划到达时间"},model:{value:e.addForm.plan_reach,callback:function(t){e.$set(e.addForm,"plan_reach",t)},expression:"addForm.plan_reach"}})],1),t("el-form-item",{attrs:{label:"出发地点",prop:"becity"}},[t("el-input",{attrs:{type:"text",rows:2,"auto-complete":"false",placeholder:"请输入出发地点"},model:{value:e.addForm.becity,callback:function(t){e.$set(e.addForm,"becity",t)},expression:"addForm.becity"}})],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text",rows:2,"auto-complete":"false",placeholder:"请输入紧急联系人电话"},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"学校要求的离校证明材料",prop:"evidences"}},[t("el-input",{attrs:{type:"textarea",rows:4,"auto-complete":"false",placeholder:"请输入学校要求的离校证明材料"},model:{value:e.addForm.evidences,callback:function(t){e.$set(e.addForm,"evidences",t)},expression:"addForm.evidences"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},ze=[],Ne={name:"StudentBack",components:{SideMenu:me},data(){return{tableData:[],total:0,pageNum:1,pageSize:10,username:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",plan_go:"",plan_reach:"",becity:"",emergency_tel:"",evidences:"",remarks:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],plan_go:[{required:!0,message:"请选择计划出发时间",trigger:"change"}],plan_reach:[{required:!0,message:"请选择计划到达时间",trigger:"change"}],becity:[{required:!0,message:"请输入出发地点",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/back/backPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,username:this.username}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/back",this.addForm).then((e=>{e?(this.$message.success("申请成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("申请失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()},handleAdd(){this.dialogFormVisible=!0,this.addForm={username:this.username,name:"",plan_go:"",plan_reach:"",becity:"",emergency_tel:"",evidences:"",remarks:""}},del(e){h["delete"]("/back/"+e).then((e=>{e?(this.$message.success("取消成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("取消失败")}))}}},Me=Ne,Ve=(0,n.Z)(Me,$e,ze,!1,null,"f56f4bae",null),qe=Ve.exports,De=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("离校申请")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-button",{staticStyle:{margin:"20px 0px 5px 20px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("申请"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"plan_leave",label:"计划离校时间",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_reach",label:"计划到达时间",width:"105"}}),t("el-table-column",{attrs:{prop:"destination",label:"目的地",width:"105"}}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人",width:"180"}}),t("el-table-column",{attrs:{prop:"plan_back",label:"计划返校时间",width:"105"}}),t("el-table-column",{attrs:{prop:"evidences",label:"学校要求的离校证明材料",width:"112"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"warning":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定取消吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger",disabled:"0"!==a.row.status},slot:"reference"},[e._v("取消申请"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"离校申请",visible:e.dialogFormVisible,width:"32%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"120px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"计划离校时间",prop:"plan_leave"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择计划离校时间"},model:{value:e.addForm.plan_leave,callback:function(t){e.$set(e.addForm,"plan_leave",t)},expression:"addForm.plan_leave"}})],1),t("el-form-item",{attrs:{label:"计划到达时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择计划到达时间"},model:{value:e.addForm.plan_reach,callback:function(t){e.$set(e.addForm,"plan_reach",t)},expression:"addForm.plan_reach"}})],1),t("el-form-item",{attrs:{label:"目的地",prop:"destination"}},[t("el-input",{attrs:{type:"text",rows:2,"auto-complete":"false",placeholder:"请输入目的地"},model:{value:e.addForm.destination,callback:function(t){e.$set(e.addForm,"destination",t)},expression:"addForm.destination"}})],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text",rows:2,"auto-complete":"false",placeholder:"请输入紧急联系人电话"},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"计划返校时间",prop:"plan_back"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"请选择计划返校时间"},model:{value:e.addForm.plan_back,callback:function(t){e.$set(e.addForm,"plan_back",t)},expression:"addForm.plan_back"}})],1),t("el-form-item",{attrs:{label:"学校要求的离校证明材料",prop:"evidences"}},[t("el-input",{attrs:{type:"textarea",rows:4,"auto-complete":"false",placeholder:"请输入学校要求的离校证明材料"},model:{value:e.addForm.evidences,callback:function(t){e.$set(e.addForm,"evidences",t)},expression:"addForm.evidences"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},Ie=[],He={name:"StudentDepartment",components:{SideMenu:me},data(){return{tableData:[],total:0,pageNum:1,pageSize:10,username:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",plan_leave:"",plan_reach:"",destination:"",emergency_tel:"",plan_back:"",evidences:"",remarks:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],plan_leave:[{required:!0,message:"请选择计划离校时间",trigger:"change"}],plan_reach:[{required:!0,message:"请选择计划到达时间",trigger:"change"}],destination:[{required:!0,message:"请输入目的地",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],plan_back:[{required:!0,message:"请选择计划返校时间",trigger:"change"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/departure/departurePage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,username:this.username}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/departure",this.addForm).then((e=>{e?(this.$message.success("申请成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("申请失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()},handleAdd(){this.dialogFormVisible=!0,this.addForm={username:this.username,name:"",plan_leave:"",plan_reach:"",destination:"",emergency_tel:"",plan_back:"",evidences:"",remarks:""}},del(e){h["delete"]("/departure/"+e).then((e=>{e?(this.$message.success("取消成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("取消失败")}))}}},Be=He,je=(0,n.Z)(Be,De,Ie,!1,null,"1eeee016",null),Ze=je.exports,Oe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("物资申请")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-button",{staticStyle:{margin:"20px 0px 5px 20px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("申请"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"goods_name",label:"物资名称",width:"120"}}),t("el-table-column",{attrs:{prop:"application",label:"申请量",width:"105"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{prop:"status",label:"审批状态",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"warning":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定取消吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger",disabled:"0"!==a.row.status},slot:"reference"},[e._v("取消申请"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"物资申请",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"物资名称",prop:"goods_name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写物资名称"},model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),t("el-form-item",{attrs:{label:"申请量",prop:"application"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入申请量"},model:{value:e.addForm.application,callback:function(t){e.$set(e.addForm,"application",t)},expression:"addForm.application"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","margin-bottom":"50px"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),t("el-divider"),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center","font-size":"18px","font-weight":"700"}},[e._v("物资库存表")]),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 40px 20px"},attrs:{data:e.tableMaterialsData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"goods_name",label:"物资名称"}}),t("el-table-column",{attrs:{prop:"storage",label:"库存量(份)"}})],1)],1)],1)])])},Ee=[],Ae={name:"StudentApplication",components:{SideMenu:me},data(){return{tableMaterialsData:[],tableData:[],total:0,pageNum:1,pageSize:10,username:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",goods_name:"",application:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],goods_name:[{required:!0,message:"请输入物资名称",trigger:"blur"}],application:[{required:!0,message:"请输入申请量",trigger:"blur"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/application/applicationPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,username:this.username,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total})),h.get("/materials").then((e=>{this.tableMaterialsData=e}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/application",this.addForm).then((e=>{e?(this.$message.success("申请成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("申请失败")}))}))},resetForm(e){this.$refs[e].resetFields()},handleAdd(){this.dialogFormVisible=!0,this.addForm={username:this.username,name:"",goods_name:"",application:"",remarks:"",status:""}},del(e){h["delete"]("/application/"+e).then((e=>{e?(this.$message.success("取消成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("取消失败")}))}}},Te=Ae,Je=(0,n.Z)(Te,Oe,Ee,!1,null,"194ef608",null),Pe=Je.exports,Ue=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("个人信息")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-descriptions",{attrs:{title:"个人信息",column:2,size:e.size,border:""}},[t("template",{slot:"extra"},[t("el-button",{attrs:{type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.handleEdit()}}},[e._v("编辑个人信息")])],1),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user"}),e._v(" 用户名 ")]),e._v(" "+e._s(this.listData.username)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-user-solid"}),e._v(" 姓名 ")]),e._v(" "+e._s(this.listData.name)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-mobile-phone"}),e._v(" 联系电话 ")]),e._v(" "+e._s(this.listData.tel)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-s-promotion"}),e._v(" 邮箱 ")]),e._v(" "+e._s(this.listData.email)+" ")],2),t("el-descriptions-item",[t("template",{slot:"label"},[t("i",{staticClass:"el-icon-location-outline"}),e._v(" 居住地 ")]),e._v(" "+e._s(this.listData.address)+" ")],2)],2),t("el-dialog",{attrs:{title:"用户信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"密码",prop:"password"}},[t("el-input",{attrs:{type:"password","auto-complete":"false",placeholder:"请输入需更改的密码（无需更改请填写旧密码）"},model:{value:e.addForm.password,callback:function(t){e.$set(e.addForm,"password",t)},expression:"addForm.password"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"联系电话",prop:"tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入联系电话"},model:{value:e.addForm.tel,callback:function(t){e.$set(e.addForm,"tel",t)},expression:"addForm.tel"}})],1),t("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入邮箱"},model:{value:e.addForm.email,callback:function(t){e.$set(e.addForm,"email",t)},expression:"addForm.email"}})],1),t("el-form-item",{attrs:{label:"居住地",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入居住地"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1)],1)],1)])])},Le=[],Ge=function(){var e=this,t=e._self._c;return t("el-aside",{attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{router:"","unique-opened":"","default-active":this.$route.path}},[t("el-menu-item",{attrs:{index:"/teacherInfo"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-home"}),t("span",[e._v("个人信息")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/teacherHealth"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-tickets"}),t("span",[e._v("健康打卡")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/healthStu"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-tickets"}),t("span",[e._v("学生健康")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/confirmed"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-document-checked"}),t("span",[e._v("确诊信息")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/teacherDeparture"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("离校审批")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/teacherBack"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("返校审批")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/teacherLeave"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-edit-outline"}),t("span",[e._v("请假审批")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/materials"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-goods"}),t("span",[e._v("物资库存")]),t("i",{staticClass:"el-icon-arrow-right"})])],2),t("el-menu-item",{attrs:{index:"/teacherApplicaiton"}},[t("template",{slot:"title"},[t("i",{staticClass:"el-icon-s-custom"}),t("span",[e._v("物资审批")]),t("i",{staticClass:"el-icon-arrow-right"})])],2)],1)],1)},Re=[],We={name:"TeaSideMenu"},Ke=We,Qe=(0,n.Z)(Ke,Ge,Re,!1,null,"4e2dca4c",null),Xe=Qe.exports,Ye={name:"TeacherInfo",components:{SideMenu:Xe},data(){return{username:"",password:"",name:"",tel:"",email:"",address:"",size:"",dialogFormVisible:!1,listData:[],addForm:{username:"",password:"",name:"",tel:"",email:"",address:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入需更改的密码（无需更改请填写旧密码）",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],tel:[{required:!0,message:"请输入电话",trigger:"blur"},{pattern:/^1[3-9]\d{9}$/,message:"请输入正确的电话",trigger:"blur"}],email:[{pattern:/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/,message:"请输入正确的邮箱",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.getTea()},methods:{submitForm(e){this.$refs[e].validate((e=>{if(!e){let e=this;return e.$message.error("信息不全或有误，请认真填写"),!1}{let e=this;h.post("/teacher/username",this.addForm).then((t=>{t?(e.$message.success("保存成功"),e.dialogFormVisible=!1,this.getTea()):e.$message.error("保存失败")}))}}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()},handleEdit(){this.addForm.username=this.username,this.addForm.name=this.listData.name,this.addForm.tel=this.listData.tel,this.addForm.email=this.listData.email,this.addForm.address=this.listData.address,this.dialogFormVisible=!0},getTea(){h.get("/teacher/username",{params:{username:this.username}}).then((e=>{this.listData=e[0]}))}}},et=Ye,tt=(0,n.Z)(et,Ue,Le,!1,null,"4fbcd67d",null),at=tt.exports,lt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("教师健康")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("el-button",{staticStyle:{margin:"20px 0px 5px 20px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("健康打卡"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})]),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"temperature",label:"体温",width:"80"}}),t("el-table-column",{attrs:{prop:"address",label:"地址",width:"200"}}),t("el-table-column",{attrs:{prop:"health",label:"身体状况",width:"250"}}),t("el-table-column",{attrs:{prop:"contact_infection",label:"是否接触感染人员",width:"140"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"last_time",label:"更新时间",width:"200"}})],1),t("el-dialog",{attrs:{title:"健康打卡",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"体温",prop:"temperature"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写体温"},model:{value:e.addForm.temperature,callback:function(t){e.$set(e.addForm,"temperature",t)},expression:"addForm.temperature"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),t("el-form-item",{attrs:{label:"身体状况",prop:"health"}},[t("el-select",{attrs:{placeholder:"请选择身体状况"},model:{value:e.addForm.health,callback:function(t){e.$set(e.addForm,"health",t)},expression:"addForm.health"}},[t("el-option",{attrs:{label:"健康状况正常",value:"健康状况正常"}}),t("el-option",{attrs:{label:"发烧、干咳、乏力、咽痛",value:"发烧、干咳、乏力、咽痛"}})],1)],1),t("el-form-item",{attrs:{label:"是否接触感染人员",prop:"contact_infection"}},[t("el-select",{attrs:{placeholder:"请选择是否接触感染人员"},model:{value:e.addForm.contact_infection,callback:function(t){e.$set(e.addForm,"contact_infection",t)},expression:"addForm.contact_infection"}},[t("el-option",{attrs:{label:"是",value:"是"}}),t("el-option",{attrs:{label:"否",value:"否"}})],1)],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"用户类型",prop:"u_type"}},[t("el-select",{attrs:{disabled:""},model:{value:e.addForm.u_type,callback:function(t){e.$set(e.addForm,"u_type",t)},expression:"addForm.u_type"}},[t("el-option",{attrs:{label:"学生",value:"学生"}}),t("el-option",{attrs:{label:"教师",value:"教师"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},st=[],rt={name:"TeacherHealth",components:{SideMenu:Xe},data(){return{tableData:[],total:0,pageNum:1,pageSize:10,username:"",u_type:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:"",last_time:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],temperature:[{required:!0,message:"请输入体温",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],health:[{required:!0,message:"请选择健康状况",trigger:"change"}],contact_infection:[{required:!0,message:"请选择是否接触感染人员",trigger:"change"}],u_type:[{required:!0,message:"请选择用户类型",trigger:"change"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.u_type=JSON.parse(window.localStorage.getItem("type")),this.load()},methods:{load(){h.get("/health/healthPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,username:this.username}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/health",this.addForm).then((e=>{e?(this.$message.success("打卡成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("打卡失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),this.$refs[e].resetFields()},handleAdd(){this.dialogFormVisible=!0,this.addForm={username:this.username,name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:this.u_type}},del(e){h["delete"]("/health/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))}}},it=rt,ot=(0,n.Z)(it,lt,st,!1,null,"58cabf6e",null),nt=ot.exports,dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("学生健康信息")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("div",{staticClass:"student-search",staticStyle:{padding:"20px 0px 5px 20px"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),[t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择身体状况"},on:{change:e.load},model:{value:e.health,callback:function(t){e.health=t},expression:"health"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],t("el-date-picker",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:e.load},model:{value:e.last_time,callback:function(t){e.last_time=t},expression:"last_time"}})],2),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"120"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),t("el-table-column",{attrs:{prop:"temperature",label:"体温"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{prop:"health",label:"身体状况"}}),t("el-table-column",{attrs:{prop:"contact_infection",label:"是否接触感染人员"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"last_time",label:"最新提交时间",width:"100"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"学生健康信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"体温",prop:"temperature"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入体温"},model:{value:e.addForm.temperature,callback:function(t){e.$set(e.addForm,"temperature",t)},expression:"addForm.temperature"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),t("el-form-item",{attrs:{label:"身体状况",prop:"health"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入身体状况"},model:{value:e.addForm.health,callback:function(t){e.$set(e.addForm,"health",t)},expression:"addForm.health"}})],1),t("el-form-item",{attrs:{label:"是否接触感染人员",prop:"contact_infection"}},[t("el-select",{attrs:{placeholder:"请输入是否接触感染人员"},model:{value:e.addForm.contact_infection,callback:function(t){e.$set(e.addForm,"contact_infection",t)},expression:"addForm.contact_infection"}},[t("el-option",{attrs:{label:"是",value:"是"}}),t("el-option",{attrs:{label:"否",value:"否"}})],1)],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},mt=[],ct={name:"HealthStu",components:{SideMenu:Xe},data(){return{options:[{value:"健康状况正常",label:"健康状况正常"},{value:"发烧、干咳、乏力、咽痛",label:"发烧、干咳、乏力、咽痛"}],tableData:[],total:0,pageNum:1,pageSize:10,title:"",id:0,name:"",health:"",u_type:"学生",last_time:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:"学生",last_time:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],temperature:[{required:!0,message:"请输入体温",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],health:[{required:!0,message:"请输入身体状况",trigger:"blur"}],contact_infection:[{required:!0,message:"请输入是否接触感染人员",trigger:"blur"}]}}},created(){this.load()},methods:{load(){h.get("/health/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,health:this.health,u_type:this.u_type,last_time:this.last_time}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/health",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:""}},getInfo(){h.get("/health/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){h["delete"]("/health/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));h.post("/health/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},ut=ct,pt=(0,n.Z)(ut,dt,mt,!1,null,"1116d4b6",null),ht=pt.exports,gt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("确诊信息")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("div",{staticClass:"student-search",staticStyle:{padding:"20px 0px 5px 20px"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-date-picker",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},on:{change:e.load},model:{value:e.last_time,callback:function(t){e.last_time=t},expression:"last_time"}})],1),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"120"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),t("el-table-column",{attrs:{prop:"temperature",label:"体温"}}),t("el-table-column",{attrs:{prop:"address",label:"地址"}}),t("el-table-column",{attrs:{prop:"health",label:"身体状况",width:"120"}}),t("el-table-column",{attrs:{prop:"contact_infection",label:"是否接触感染人员"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"last_time",label:"最新提交时间"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"确诊信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"体温",prop:"temperature"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入体温"},model:{value:e.addForm.temperature,callback:function(t){e.$set(e.addForm,"temperature",t)},expression:"addForm.temperature"}})],1),t("el-form-item",{attrs:{label:"地址",prop:"address"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入地址"},model:{value:e.addForm.address,callback:function(t){e.$set(e.addForm,"address",t)},expression:"addForm.address"}})],1),t("el-form-item",{attrs:{label:"身体状况",prop:"health"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入身体状况"},model:{value:e.addForm.health,callback:function(t){e.$set(e.addForm,"health",t)},expression:"addForm.health"}})],1),t("el-form-item",{attrs:{label:"是否接触感染人员",prop:"contact_infection"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入是否接触感染人员"},model:{value:e.addForm.contact_infection,callback:function(t){e.$set(e.addForm,"contact_infection",t)},expression:"addForm.contact_infection"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},bt=[],ft={name:"Confirmed",components:{SideMenu:Xe},data(){return{tableData:[],total:0,pageNum:1,pageSize:10,title:"",id:0,name:"",health:"发烧、干咳、乏力、咽痛",u_type:"学生",last_time:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:"",u_type:"学生",last_time:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],temperature:[{required:!0,message:"请输入体温",trigger:"blur"}],address:[{required:!0,message:"请输入地址",trigger:"blur"}],health:[{required:!0,message:"请输入身体状况",trigger:"blur"}],contact_infection:[{required:!0,message:"请输入是否接触感染人员",trigger:"blur"}]}}},created(){this.load()},methods:{load(){h.get("/health/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,health:this.health,u_type:this.u_type,last_time:this.last_time}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/health",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",name:"",temperature:"",address:"",health:"",contact_infection:"",remarks:""}},getInfo(){h.get("/health/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){h["delete"]("/health/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));h.post("/health/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},vt=ft,yt=(0,n.Z)(vt,gt,bt,!1,null,"8349bb24",null),Ft=yt.exports,_t=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("请假审批")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("div",{staticClass:"student-search",staticStyle:{padding:"20px 0px 5px 20px"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择请假事由"},on:{change:e.load},model:{value:e.leave_type,callback:function(t){e.leave_type=t},expression:"leave_type"}},e._l(e.options1,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options2,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"105"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"105"}}),t("el-table-column",{attrs:{prop:"leave_type",label:"请假类型",width:"80"}}),t("el-table-column",{attrs:{prop:"start",label:"开始时间",width:"105"}}),t("el-table-column",{attrs:{prop:"end",label:"结束时间",width:"105"}}),t("el-table-column",{attrs:{prop:"reason",label:"请假事由",width:"180"}}),t("el-table-column",{attrs:{prop:"leave",label:"是否离校",width:"105"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s("0"===t.row.leave?"否":"是")+" ")]}}])}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人电话",width:"112"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})])]}}])})],1),t("el-dialog",{attrs:{title:"请假申请审批",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名",disabled:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"请假类型"}},[t("el-select",{attrs:{placeholder:"请选择请假类型",disabled:""},model:{value:e.addForm.leave_type,callback:function(t){e.$set(e.addForm,"leave_type",t)},expression:"addForm.leave_type"}},[t("el-option",{attrs:{label:"事假",value:"事假"}}),t("el-option",{attrs:{label:"病假",value:"病假"}}),t("el-option",{attrs:{label:"实习",value:"实习"}}),t("el-option",{attrs:{label:"丧假",value:"丧假"}}),t("el-option",{attrs:{label:"婚假",value:"婚假"}}),t("el-option",{attrs:{label:"探亲访友",value:"探亲访友"}}),t("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1),t("el-form-item",{attrs:{label:"开始时间",prop:"start"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择开始时间",disabled:""},model:{value:e.addForm.start,callback:function(t){e.$set(e.addForm,"start",t)},expression:"addForm.start"}})],1),t("el-form-item",{attrs:{label:"结束时间",prop:"end"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择结束时间",disabled:""},model:{value:e.addForm.end,callback:function(t){e.$set(e.addForm,"end",t)},expression:"addForm.end"}})],1),t("el-form-item",{attrs:{label:"请假事由",prop:"reason"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写请假事由",disabled:""},model:{value:e.addForm.reason,callback:function(t){e.$set(e.addForm,"reason",t)},expression:"addForm.reason"}})],1),t("el-form-item",{attrs:{label:"是否离校"}},[t("el-select",{attrs:{placeholder:"请选择是否离校",disabled:""},model:{value:e.addForm.leave_yn,callback:function(t){e.$set(e.addForm,"leave_yn",t)},expression:"addForm.leave_yn"}},[t("el-option",{attrs:{label:"是",value:"1"}}),t("el-option",{attrs:{label:"否",value:"0"}})],1)],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入紧急联系人电话",disabled:""},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明",disabled:""},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请选择审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},xt=[],wt={name:"TeacherLeave",components:{SideMenu:Xe},data(){return{options1:[{value:"事假",label:"事假"},{value:"病假",label:"病假"},{value:"实习",label:"实习"},{value:"丧假",label:"丧假"},{value:"婚假",label:"婚假"},{value:"探亲访友",label:"探亲访友"},{value:"其他",label:"其他"}],options2:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,username:"",name:"",leave_type:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",leave_type:"",start:"",end:"",reason:"",leave_yn:"",emergency_tel:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],leave_type:[{required:!0,message:"请输入请假类型",trigger:"blur"}],start:[{required:!0,message:"请输入开始时间",trigger:"blur"}],end:[{required:!0,message:"请输入结束",trigger:"blur"}],reason:[{required:!0,message:"请填写请假事由",trigger:"blur"}],leave_yn:[{required:!0,message:"是否离校",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/leave/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,leave_type:this.leave_type,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"否"===this.addForm.leave_yn?this.addForm.leave_yn="0":"是"===this.addForm.leave_yn&&(this.addForm.leave_yn="1"),"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),h.post("/leave",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){h.get("/leave/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){h["delete"]("/leave/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))}}},kt=wt,St=(0,n.Z)(kt,_t,xt,!1,null,"725dc353",null),Ct=St.exports,$t=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("返校审批")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("div",{staticClass:"student-search",staticStyle:{padding:"20px 0px 5px 20px"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"105"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_go",label:"计划出发时间",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_reach",label:"计划到达时间",width:"105"}}),t("el-table-column",{attrs:{prop:"becity",label:"出发地点",width:"105"}}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人",width:"180"}}),t("el-table-column",{attrs:{prop:"evidences",label:"学校要求的离校证明材料",width:"112"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})])]}}])})],1),t("el-dialog",{attrs:{title:"返校申请审批",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名",disabled:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"计划出发时间",prop:"plan_go"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划出发时间",disabled:""},model:{value:e.addForm.plan_go,callback:function(t){e.$set(e.addForm,"plan_go",t)},expression:"addForm.plan_go"}})],1),t("el-form-item",{attrs:{label:"计划到达时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划到达时间",disabled:""},model:{value:e.addForm.plan_reach,callback:function(t){e.$set(e.addForm,"plan_reach",t)},expression:"addForm.plan_reach"}})],1),t("el-form-item",{attrs:{label:"出发地点",prop:"becity"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写出发地点",disabled:""},model:{value:e.addForm.becity,callback:function(t){e.$set(e.addForm,"becity",t)},expression:"addForm.becity"}})],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入紧急联系人电话",disabled:""},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"学校要求的返校证明材料",prop:"evidences"}},[t("el-input",{attrs:{type:"textarea",rows:4,"auto-complete":"false",placeholder:"请填写学校要求的返校证明材料",disabled:""},model:{value:e.addForm.evidences,callback:function(t){e.$set(e.addForm,"evidences",t)},expression:"addForm.evidences"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明",disabled:""},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请输入审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},zt=[],Nt={name:"TeacherBack",components:{SideMenu:Xe},data(){return{options:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,name:"",username:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",plan_go:"",plan_reach:"",becity:"",emergency_tel:"",evidences:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],plan_go:[{required:!0,message:"请输入计划出发时间",trigger:"blur"}],plan_reach:[{required:!0,message:"请输入计划到达时间",trigger:"blur"}],becity:[{required:!0,message:"请填写出发地点",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/back/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),h.post("/back",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){h.get("/back/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){h["delete"]("/back/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))}}},Mt=Nt,Vt=(0,n.Z)(Mt,$t,zt,!1,null,"b0ccbffc",null),qt=Vt.exports,Dt=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("离校审批")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("div",{staticClass:"student-search",staticStyle:{padding:"20px 0px 5px 20px"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入姓名","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"105"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_leave",label:"计划离校时间",width:"105"}}),t("el-table-column",{attrs:{prop:"plan_reach",label:"计划到达时间",width:"105"}}),t("el-table-column",{attrs:{prop:"destination",label:"目的地",width:"105"}}),t("el-table-column",{attrs:{prop:"emergency_tel",label:"紧急联系人",width:"180"}}),t("el-table-column",{attrs:{prop:"plan_back",label:"计划返校时间",width:"105"}}),t("el-table-column",{attrs:{prop:"evidences",label:"学校要求的离校证明材料",width:"112"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",prop:"status",label:"审批状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})])]}}])})],1),t("el-dialog",{attrs:{title:"离校申请审批",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名",disabled:""},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名",disabled:""},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"计划离校时间",prop:"plan_leave"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划离校时间",disabled:""},model:{value:e.addForm.plan_leave,callback:function(t){e.$set(e.addForm,"plan_leave",t)},expression:"addForm.plan_leave"}})],1),t("el-form-item",{attrs:{label:"计划到达时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划到达时间",disabled:""},model:{value:e.addForm.plan_reach,callback:function(t){e.$set(e.addForm,"plan_reach",t)},expression:"addForm.plan_reach"}})],1),t("el-form-item",{attrs:{label:"目的地",prop:"destination"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写目的地",disabled:""},model:{value:e.addForm.destination,callback:function(t){e.$set(e.addForm,"destination",t)},expression:"addForm.destination"}})],1),t("el-form-item",{attrs:{label:"紧急联系人电话",prop:"emergency_tel"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入紧急联系人电话",disabled:""},model:{value:e.addForm.emergency_tel,callback:function(t){e.$set(e.addForm,"emergency_tel",t)},expression:"addForm.emergency_tel"}})],1),t("el-form-item",{attrs:{label:"计划返校时间",prop:"plan_reach"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"datetime",format:"yyyy 年 MM 月 dd 日 HH时mm分ss秒","value-format":"yyyy-MM-dd HH:mm:ss",placeholder:"选择计划返校时间",disabled:""},model:{value:e.addForm.plan_back,callback:function(t){e.$set(e.addForm,"plan_back",t)},expression:"addForm.plan_back"}})],1),t("el-form-item",{attrs:{label:"学校要求的返校证明材料",prop:"evidences"}},[t("el-input",{attrs:{type:"textarea",rows:4,"auto-complete":"false",placeholder:"请填写学校要求的返校证明材料",disabled:""},model:{value:e.addForm.evidences,callback:function(t){e.$set(e.addForm,"evidences",t)},expression:"addForm.evidences"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明",disabled:""},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请选择审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},It=[],Ht={name:"TeacherDepartment",components:{SideMenu:Xe},data(){return{options:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,name:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",plan_leave:"",plan_reach:"",destination:"",emergency_tel:"",plan_back:"",evidences:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],plan_leave:[{required:!0,message:"请输入计划离校时间",trigger:"blur"}],plan_reach:[{required:!0,message:"请输入计划到达时间",trigger:"blur"}],destination:[{required:!0,message:"请填写目的地",trigger:"blur"}],emergency_tel:[{required:!0,message:"请输入紧急联系人电话",trigger:"blur"}],plan_back:[{required:!0,message:"请输入计划返校时间",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/departure/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),h.post("/departure",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){h.get("/departure/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){h["delete"]("/departure/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))}}},Bt=Ht,jt=(0,n.Z)(Bt,Dt,It,!1,null,"8c30fef0",null),Zt=jt.exports,Ot=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("确诊信息")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("div",{staticClass:"student-search",staticStyle:{padding:"20px 0px 5px 20px"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入物资名称","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.goods_name,callback:function(t){e.goods_name=t},expression:"goods_name"}}),t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{type:"primary"},on:{click:e.handleAdd}},[e._v("新增"),t("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{"margin-left":"2px"}})])],1),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"goods_name",label:"物资名称"}}),t("el-table-column",{attrs:{prop:"storage",label:"库存量(份)"}}),t("el-table-column",{attrs:{fixed:"right",label:"操作",width:"220"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("编辑"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})]),t("el-popconfirm",{attrs:{"confirm-button-text":"确定","cancel-button-text":"取消",icon:"el-icon-info","icon-color":"red",title:"您确定删除吗？"},on:{confirm:function(t){return e.del(a.row.id)}}},[t("el-button",{staticStyle:{"margin-left":"5px"},attrs:{slot:"reference",type:"danger"},slot:"reference"},[e._v("删除"),t("i",{staticClass:"el-icon-remove-outline",staticStyle:{"margin-left":"2px"}})])],1)]}}])})],1),t("el-dialog",{attrs:{title:"物资信息",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"100px",size:"medium"}},[t("el-form-item",{attrs:{label:"物资名称",prop:"goods_name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入物资名称"},model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),t("el-form-item",{attrs:{label:"库存量(?/份)",prop:"storage"}},[t("el-input",{attrs:{type:" text","auto-complete":"false",placeholder:"请输入库存量"},model:{value:e.addForm.storage,callback:function(t){e.$set(e.addForm,"storage",t)},expression:"addForm.storage"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm("addForm")}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},Et=[],At={name:"Materials",components:{SideMenu:Xe},data(){return{tableData:[],total:0,pageNum:1,pageSize:10,id:0,title:"",goods_name:"",dialogFormVisible:!1,multipleSelection:[],addForm:{goods_name:"",storage:""},rules:{goods_name:[{required:!0,message:"请输入物资名称",trigger:"blur"}],storage:[{required:!0,message:"请输入库存量",trigger:"blur"}]}}},created(){this.load()},methods:{load(){h.get("/materials/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,goods_name:this.goods_name}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;h.post("/materials",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(e){document.getElementById("resetFormButton").blur(),"新增"===this.title?this.$refs[e].resetFields():this.getInfo()},handleAdd(){this.title="新增",this.dialogFormVisible=!0,this.addForm={username:"",password:"",name:"",stuClass:"",dormitory:"",tel:"",email:"",address:""}},getInfo(){h.get("/materials/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.title="编辑",this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){h["delete"]("/materials/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))},handleSelectionChange(e){this.multipleSelection=e},delBatch(){let e=this.multipleSelection.map((e=>e.id));h.post("/materials/del/batch",e).then((e=>{e?(this.$message.success("批量删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("批量删除失败")}))}}},Tt=At,Jt=(0,n.Z)(Tt,Ot,Et,!1,null,"0f91e160",null),Pt=Jt.exports,Ut=function(){var e=this,t=e._self._c;return t("div",{staticClass:"box"},[t("div",{staticClass:"container"},[t("div",{staticClass:"brand"},[t("el-breadcrumb",{attrs:{"separator-class":"el-icon-arrow-right"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-location",staticStyle:{"padding-right":"5px"}}),e._v("首页")]),t("el-breadcrumb-item",[e._v("个人中心")]),t("el-breadcrumb-item",[e._v("物资审批")])],1)],1),t("div",[t("div",{staticClass:"aside"},[t("SideMenu")],1),t("el-main",{staticClass:"main"},[t("div",{staticClass:"student-search",staticStyle:{padding:"20px 0px 5px 20px"}},[t("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"请输入物资名称","suffix-icon":"el-icon-search",clearable:""},on:{change:e.load},model:{value:e.goods_name,callback:function(t){e.goods_name=t},expression:"goods_name"}}),t("el-select",{staticStyle:{width:"250px","margin-left":"5px"},attrs:{clearable:"",placeholder:"请选择审批状态"},on:{change:e.load},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.options,(function(e){return t("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),t("el-table",{staticStyle:{width:"97%",margin:"20px 0 20px 20px"},attrs:{data:e.tableData,border:"",stripe:""}},[t("el-table-column",{attrs:{type:"index",label:"序号",width:"80"}}),t("el-table-column",{attrs:{prop:"username",label:"用户名",width:"105"}}),t("el-table-column",{attrs:{prop:"name",label:"姓名",width:"105"}}),t("el-table-column",{attrs:{prop:"goods_name",label:"物资名称",width:"105"}}),t("el-table-column",{attrs:{prop:"application",label:"申请量(份)",width:"105"}}),t("el-table-column",{attrs:{prop:"remarks",label:"备注说明"}}),t("el-table-column",{attrs:{prop:"status",label:"审批结果",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},["0"===a.row.status?t("el-tag",{attrs:{type:"danger"}},[e._v("未审批")]):"1"===a.row.status?t("el-tag",{attrs:{type:"success"}},[e._v("审批通过")]):"2"===a.row.status?t("el-tag",{attrs:{type:"warning"}},[e._v("审批未通过")]):e._e()],1)]}}])}),t("el-table-column",{attrs:{prop:"status",label:"审批状态",width:"112"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t("el-tag",{attrs:{type:"0"===a.row.status?"danger":"success"}},[e._v(e._s("0"===a.row.status?"未审批":"已审批"))])],1)]}}])}),t("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"warning",disabled:"0"!==a.row.status},on:{click:function(t){return e.handleEdit(a.row)}}},[e._v("审批"),t("i",{staticClass:"el-icon-edit",staticStyle:{"margin-left":"2px"}})])]}}])})],1),t("el-dialog",{attrs:{title:"物资申请审批",visible:e.dialogFormVisible,width:"30%",top:"6vh",center:""},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[t("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.rules,"label-width":"80px",size:"medium"}},[t("el-form-item",{attrs:{label:"用户名",prop:"username"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入用户名"},model:{value:e.addForm.username,callback:function(t){e.$set(e.addForm,"username",t)},expression:"addForm.username"}})],1),t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入姓名"},model:{value:e.addForm.name,callback:function(t){e.$set(e.addForm,"name",t)},expression:"addForm.name"}})],1),t("el-form-item",{attrs:{label:"物资名称",prop:"goods_name"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请填写物资名称"},model:{value:e.addForm.goods_name,callback:function(t){e.$set(e.addForm,"goods_name",t)},expression:"addForm.goods_name"}})],1),t("el-form-item",{attrs:{label:"申请量(份)",prop:"application"}},[t("el-input",{attrs:{type:"text","auto-complete":"false",placeholder:"请输入申请量"},model:{value:e.addForm.application,callback:function(t){e.$set(e.addForm,"application",t)},expression:"addForm.application"}})],1),t("el-form-item",{attrs:{label:"备注说明",prop:"remarks"}},[t("el-input",{attrs:{type:"textarea",rows:2,"auto-complete":"false",placeholder:"备注说明"},model:{value:e.addForm.remarks,callback:function(t){e.$set(e.addForm,"remarks",t)},expression:"addForm.remarks"}})],1),t("el-form-item",{attrs:{label:"审批状态",prop:"status"}},[t("el-select",{attrs:{placeholder:"请输入审批状态"},model:{value:e.addForm.status,callback:function(t){e.$set(e.addForm,"status",t)},expression:"addForm.status"}},[t("el-option",{attrs:{label:"未审批",value:"0"}}),t("el-option",{attrs:{label:"审批通过",value:"1"}}),t("el-option",{attrs:{label:"审批未通过",value:"2"}})],1)],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{id:"resetFormButton"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")]),t("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),t("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("addForm")}}},[e._v("确 定")])],1)],1),t("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"center"}},[t("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)])])},Lt=[],Gt={name:"TeacherApplication",components:{SideMenu:Xe},data(){return{options:[{value:"0",label:"未审批"},{value:"1",label:"审批通过"},{value:"2",label:"审批未通过"}],tableData:[],total:0,pageNum:1,pageSize:10,id:0,goods_name:"",status:"",dialogFormVisible:!1,multipleSelection:[],addForm:{username:"",name:"",goods_name:"",application:"",remarks:"",status:""},rules:{username:[{required:!0,message:"请输入用户名",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],goods_name:[{required:!0,message:"请输入物资名称",trigger:"blur"}],application:[{required:!0,message:"请输入申请量",trigger:"blur"}],status:[{required:!0,message:"请选择审批状态",trigger:"change"}]}}},created(){this.username=JSON.parse(window.localStorage.getItem("username")),this.load()},methods:{load(){h.get("/application/page",{params:{pageNum:this.pageNum,pageSize:this.pageSize,goods_name:this.goods_name,status:this.status}}).then((e=>{this.tableData=e.data,this.total=e.total}))},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()},submitForm(e){this.$refs[e].validate((e=>{if(!e)return this.$message.error("信息不全或有误，请认真填写"),!1;"未审批"===this.addForm.status?this.addForm.status="0":"审批通过"===this.addForm.status?this.addForm.status="1":"审批未通过"===this.addForm.status&&(this.addForm.status="2"),h.post("/application",this.addForm).then((e=>{e?(this.$message.success("保存成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("保存失败")}))}))},resetForm(){document.getElementById("resetFormButton").blur(),this.getInfo()},getInfo(){h.get("/application/"+this.id).then((e=>{this.$nextTick((()=>{this.addForm={...e[0]}}))}))},handleEdit(e){this.id=e.id,this.getInfo(),this.dialogFormVisible=!0},del(e){h["delete"]("/application/"+e).then((e=>{e?(this.$message.success("删除成功"),this.dialogFormVisible=!1,this.load()):this.$message.error("删除失败")}))}}},Rt=Gt,Wt=(0,n.Z)(Rt,Ut,Lt,!1,null,"b3e378de",null),Kt=Wt.exports,Qt=a(8499),Xt=a.n(Qt);l["default"].use(c.ZP);const Yt=[{path:"/",redirect:"/login",component:C},{path:"/login",component:C},{path:"/home",component:F,redirect:"/index",children:[{path:"/index",component:q},{path:"/news",component:Z},{path:"/notices",component:P},{path:"/campus",component:K},{path:"/media",component:ae},{path:"/studentInfo",component:he},{path:"/studentHealth",component:Fe},{path:"/studentLeave",component:Ce},{path:"/studentBack",component:qe},{path:"/studentDeparture",component:Ze},{path:"/studentApplicaiton",component:Pe},{path:"/teacherInfo",component:at},{path:"/teacherHealth",component:nt},{path:"/healthStu",component:ht},{path:"/confirmed",component:Ft},{path:"/teacherLeave",component:Ct},{path:"/teacherBack",component:qt},{path:"/teacherDeparture",component:Zt},{path:"/materials",component:Pt},{path:"/teacherApplicaiton",component:Kt}]}],ea=new c.ZP({routes:Yt});ea.beforeEach(((e,t,a)=>{if(e.path.startsWith("/login"))window.localStorage.removeItem("username"),window.localStorage.removeItem("token"),window.localStorage.removeItem("type"),a();else{let e=JSON.parse(window.localStorage.getItem("token"));e?(h({url:"/admin/checkToken",method:"get",headers:{token:e}}).then((e=>{e||(Qt.Message.error("登录信息出现问题，请重新登录"),a({path:"/login"}))})),a()):a({path:"/login"})}}));var ta=ea,aa=a(3822);l["default"].use(aa.ZP);const la=new aa.ZP.Store({state:{},getters:{},mutations:{},actions:{}});var sa=la;l["default"].config.productionTip=!1,l["default"].use(Xt()),new l["default"]({router:ta,store:sa,render:e=>e(m)}).$mount("#app")},7701:function(e,t,a){e.exports=a.p+"img/banner1.796704af.jpg"},8845:function(e,t,a){e.exports=a.p+"img/banner2.925c2e19.jpg"},7421:function(e,t,a){e.exports=a.p+"img/banner3.d2e562f0.jpg"},2823:function(e,t,a){e.exports=a.p+"img/banner4.804674ce.png"},5096:function(e,t,a){e.exports=a.p+"img/logo.5e1af69c.jpg"}},t={};function a(l){var s=t[l];if(void 0!==s)return s.exports;var r=t[l]={id:l,loaded:!1,exports:{}};return e[l].call(r.exports,r,r.exports,a),r.loaded=!0,r.exports}a.m=e,function(){var e=[];a.O=function(t,l,s,r){if(!l){var i=1/0;for(m=0;m<e.length;m++){l=e[m][0],s=e[m][1],r=e[m][2];for(var o=!0,n=0;n<l.length;n++)(!1&r||i>=r)&&Object.keys(a.O).every((function(e){return a.O[e](l[n])}))?l.splice(n--,1):(o=!1,r<i&&(i=r));if(o){e.splice(m--,1);var d=s();void 0!==d&&(t=d)}}return t}r=r||0;for(var m=e.length;m>0&&e[m-1][2]>r;m--)e[m]=e[m-1];e[m]=[l,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var s,r,i=l[0],o=l[1],n=l[2],d=0;if(i.some((function(t){return 0!==e[t]}))){for(s in o)a.o(o,s)&&(a.m[s]=o[s]);if(n)var m=n(a)}for(t&&t(l);d<i.length;d++)r=i[d],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(m)},l=self["webpackChunkcampus_system"]=self["webpackChunkcampus_system"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(2587)}));l=a.O(l)})();
//# sourceMappingURL=app.78df26de.js.map